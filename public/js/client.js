(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+lRy":function(e,t){},0:function(e,t,n){n("ub3X"),e.exports=n("+lRy")},1:function(e,t){},HijD:function(e,t,n){try{window.$=window.jQuery=n("EVdn"),n("SYky"),window.io=n("gFX4"),$(function(){$('[data-toggle="tooltip"]').tooltip()})}catch(e){}},ub3X:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"create",function(){return E});var o={};n.r(o),n.d(o,"create",function(){return w}),n.d(o,"join",function(){return O}),n.d(o,"kick",function(){return S});var a={};n.r(a),n.d(a,"start",function(){return j});var c={};n.r(c),n.d(c,"submit",function(){return N});var i=n("q1tI"),l=n.n(i),s=n("/MKj"),u=n("PBcv"),m=n("ANjH"),f=n("wQmL"),p=n("sINF"),d=n("YHGo"),y=n("vDqi"),h=n.n(y);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){b(e,t,n[t])})}return e}({},context.__global__);"undefined"!=typeof window&&delete window.context;var v=g,E=function(e){return h.a.post("".concat(v.url.host,"/api/players"),e)},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return h.a.post("".concat(v.url.host,"/api/rooms"),e)},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return h.a.post("".concat(v.url.host,"/api/rooms/join"),e)},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return h.a.post("".concat(v.url.host,"/api/rooms/kick"),e)},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return h.a.post("".concat(v.url.host,"/api/game/start"),e)},N=function(e){return h.a.post("".concat(v.url.host,"/api/contact/submit"),e)},P={player:r,room:o,game:a,contact:c},C="CONNECT_WS",k="DISCONNECT_WS",R="SUBSCRIBE_WS",T="UNSUBSCRIBE_WS",A="EMIT_WS",D={},x={};var I=function(e){return void 0!==x[e]&&void 0!==x[e].connection},M=function(e){return function(e){return function(t){try{return e(t)}catch(e){throw console.error("Caught an exception!",e),e}}}},U=n("YS3K");function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G={socket:null,fd:null,created_at:null,connecting:!1,connected:!1,connectionError:null},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"CONNECTING_SOCKET":return W(e,{connecting:!0});case"CONNECT_SOCKET_SUCCESS":return W(e,{connecting:!1,connected:!0,created_at:new Date});case"CONNECT_SOCKET_FAILURE":return W(e,{connecting:!1,connected:!1,connectionError:r.message});case"CONNECT_SOCKET_DATA":return W(e,{fd:r.fd});default:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){F(e,t,n[t])})}return e}({},e)}},W=function(e,t){return Object(U.assign)(e,t)};function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y={},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;return(arguments.length>1?arguments[1]:void 0).type,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){H(e,t,n[t])})}return e}({},e)};function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){z(e,t,n[t])})}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"save",value:function(t,n){return!!e.isBrowser&&localStorage.setItem(t,JSON.stringify(n))}},{key:"get",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e.isBrowser)return n;var r=n;try{r=JSON.parse(localStorage.getItem(t))}catch(e){}return r}}],(n=null)&&B(t.prototype,n),r&&B(t,r),e}()).isBrowser="undefined"!=typeof window&&window.document&&window.document.createElement;var J,Q={id:null,username:null,avatar:null,password:null,creating:!1,created:!1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"CREATING_PLAYER":return X(e,{creating:!0});case"CREATE_PLAYER_SUCCESS":var o=r.player,a=q({},e.player,o,{creating:!1,created:!0,password:$(o.id,o.username)});return X(e,a);case"CREATE_PLAYER_FAILURE":return X(e,{creating:!1,created:!1});case"UPDATE_PLAYER":var c=r.player,i=q({},e.player,r.player,{password:$(c.id,c.username)});return X(e,i);case"CLEAR_PLAYER_DATA":return q({},Q);default:return q({},e)}},X=function(e,t){return Object(U.assign)(e,t)},$=function(e,t){return t.toLowerCase().replace(/\s+/g,"")+"_"+e};function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ee(e,t,n[t])})}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=(ee(J={id:null,uuid:null,active:!1,number_of_games:3,current_game:0,created_by:null,administered_by:null,created_at:null,errors:[],creating:!1,created:!1,joining:!1,joined:!1,lastKickedPlayer:{id:0},players:[],has_game_in_progress:!1},"number_of_games",3),ee(J,"round_length",60),J),ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"CREATING_ROOM":return re(e,{creating:!0});case"CREATE_ROOM_SUCCESS":return re(e,Z({creating:!1,created:!0,errors:[]},r.room));case"CREATE_ROOM_FAILURE":return re(e,{creating:!1,created:!1,errors:r.errors});case"JOINING_ROOM":return re(e,{joining:!0});case"JOIN_ROOM_SUCCESS":return re(e,Z({joining:!1,joined:!0,errors:[]},r.room));case"JOIN_ROOM_FAILURE":return re(e,{joining:!1,joined:!1,errors:r.errors});case"PLAYER_JOINED_ROOM":var o=oe(e.players,r.player);return re(e,{players:o});case"PLAYER_LEAVED_ROOM":var a=ae(e.players,r.player.id,{active:!1});return re(e,{players:a});case"PLAYER_KICKED":var c=ae(e.players,r.player.id,{active:!1});return re(e,{players:c,lastKickedPlayer:r.player});case"REPLACE_ADMIN_ROOM":return re(e,{administered_by:r.player.id});case"ROOM_FORM_UPDATED":return re(e,Z({},r.room));case"CLEAR_ROOM_DATA":return Z({},te);default:return Z({},e)}},re=function(e,t){return Object(U.assign)(e,t)},oe=function(e,t){return e.concat([t])},ae=function(e,t,n){return e.map(function(e){return e.id==t?Object(U.assign)(e,n):e})},ce=n("EcEN");function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){le(e,t,n[t])})}return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ue={messages:[],sending:!1,chatError:null,emojis:[{text:"@emoji:fa-smile-o",class:"fa-smile-o"},{text:"@emoji:fa-meh-o",class:"fa-meh-o"},{text:"@emoji:fa-frown-o",class:"fa-frown-o"},{text:"@emoji:fa-hand-peace-o",class:"fa-hand-peace-o"},{text:"@emoji:fa-thumbs-o-up",class:"fa-thumbs-o-up"},{text:"@emoji:fa-thumbs-o-down",class:"fa-thumbs-o-down"},{text:"@emoji:fa-heart-o",class:"fa-heart-o"}],types:{info:{className:"text-warning"},success:{className:"text-success"},danger:{className:"text-danger"},message:{className:""}}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"SENDING_MESSAGE_ROOM":return fe(e,{sending:!0});case"SEND_MESSAGE_ROOM_SUCCESS":var o=pe(e.messages,r.message);return fe(e,{sending:!1,messages:o});case"SEND_MESSAGE_ROOM_FAILURE":return fe(e,{sending:!1,chatError:r.message});case"RECEIVE_MESSAGE_ROOM":var a=pe(e.messages,r.message);return fe(e,{messages:a});case"PLAYER_JOINED_ROOM":var c=pe(e.messages,de("".concat(r.player.username," has joined room."),e.types.success));return fe(e,{messages:c});case"PLAYER_LEAVED_ROOM":var i=pe(e.messages,de("".concat(r.player.username," has leaved room."),e.types.danger));return fe(e,{messages:i});case"PLAYER_KICKED":var l=pe(e.messages,de("".concat(r.player.username," has been kicked from room by admin."),e.types.danger));return fe(e,{messages:l});case"REPLACE_ADMIN_ROOM":var s=pe(e.messages,de("".concat(r.player.username," is now room admin."),e.types.info));return fe(e,{messages:s});case"PLAYER_GUESSED_WORD":var u=r.player,m=[];return m=u.score.guessed?pe(e.messages,de("".concat(u.username," successfully guessed word! (").concat(u.score.points," point").concat(u.score.points>1?"s":"",")"),e.types.success)):se(e.messages),fe(e,{messages:m});case"PLAYER_WAS_CLOSE":var f=pe(e.messages,de("Ouff.. you are so close!",e.types.info));return fe(e,{messages:f});case"CLEAR_CHAT_DATA":return ie({},ue);case"CLEAR_CHAT_MESSAGES":return fe(e,{messages:[]});default:return ie({},e)}},fe=function(e,t){return Object(U.assign)(e,t)},pe=function(e,t){return e.concat([t])},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{id:Object(ce.v4)(),text:e,type:t}},ye=n("LvDl");function he(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ge(e,t,n[t])})}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve={starting_game_request:!1,starting_game_request_approved:!1,starting_game_request_errors:[],drawing:{items:[]},id:null,status:null,number_of_rounds:null,room_id:null,created_at:null,isThereNextGame:!1,rounds:[],nextGame:null,nextRound:null,finalScores:[]},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"SKETCHPAD_DRAW":var o=Oe(e.drawing.items,r);return we(e,{drawing:{items:o}});case"SKETCHPAD_UNDO":var a=_e(e.drawing.items);return we(e,{drawing:{items:a}});case"SKETCHPAD_CLEAR":return we(e,{drawing:{items:[]}});case"RECEIVE_DRAWING_GAME":return we(e,{drawing:{items:r.drawing.items}});case"STARTING_GAME_REQUEST":return we(e,{starting_game_request:!0});case"STARTING_GAME_REQUEST_SUCCESS":return we(e,{starting_game_request:!1,starting_game_request_approved:!0});case"STARTING_GAME_REQUEST_FAILURE":return we(e,{starting_game_request:!1,starting_game_request_approved:!1,starting_game_request_errors:r.errors});case"STARTING_GAME":return we(e,be({},r.game));case"STARTING_ROUND":var c=Se(e.rounds,r.round);return we(e,{rounds:c});case"FINISHING_ROUND":return we(e,{rounds:r.rounds});case"FINISHING_GAME":var i=r.game,l=r.rounds,s=r.isThereNextGame,u=null,m=null,f=[];return s?(u=be({},Object(ye.get)(r,"nextRound",null),{score:[]}),m=be({},Object(ye.get)(r,"nextGame",null),{rounds:[]})):f=he(Object(ye.get)(r,"finalScores",[])),we(e,be({},i,{rounds:l,isThereNextGame:s,nextRound:u,nextGame:m,finalScores:f}));case"PLAYER_GUESSED_WORD":var p=r.player,d=je(e.rounds,p.score);return we(e,{rounds:d});case"CLEAR_GAME_DATA":return be({},ve);default:return be({},e)}},we=function(e,t){return Object(U.assign)(e,t)},Oe=function(e,t){return e.concat([t])},_e=function(e){return he(e).slice(0,-1)},Se=function(e,t){return e.concat([t])},je=function(e,t){return e.map(function(e){if(e.id==t.round_id){var n=e.score.map(function(e){return e.id==t.id?be({},e,t):be({},e)});return be({},e,{score:n})}return be({},e)})};function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe={modalType:null,modalProps:{}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"SHOW_MODAL":return ke(e,{modalType:r.modalType,modalProps:r.modalProps});case"HIDE_MODAL":return ke(e,{modalType:null,modalProps:{}});default:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ne(e,t,n[t])})}return e}({},e)}},ke=function(e,t){return Object(U.assign)(e,t)};function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Te(e,t,n[t])})}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae={countdownFrom:0,inProgress:!1,show:!1,countdownEndText:null},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"SHOW_COUNTDOWN":return xe(e,Re({},r,{show:!0,inProgress:!0}));case"HIDE_COUNTDOWN":return Re({},Ae);default:return Re({},e)}},xe=function(e,t){return Object(U.assign)(e,t)};function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Me(e,t,n[t])})}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue={id:null,number:null,timer:"00:00",seconds:null,status:null,localStatus:null,started_at:0,finishing_at:0,drawn_by:null,words_to_choose:[],chosed_word:null,score:[]},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"STARTING_GAME":return Ge(e,Ie({},r.round));case"FINISHING_GAME":return Ie({},Ue);case"STARTING_ROUND":return Ge(e,Ie({},r.round,{localStatus:"ROUND_STARTING"}));case"TICK_ROUND":return Ge(e,Ie({},r.round,{localStatus:"ROUND_IN_PROGRESS"}));case"FINISHING_ROUND":return Ge(e,{drawn_by:r.drawn_by,chosed_word:null,words_to_choose:[],localStatus:"ROUND_FINISHED"});case"PLAYER_CHOOSING_WORD":return Ge(e,{localStatus:"PLAYER_CHOOSING_WORD"});case"CHOOSE_WORD":return Ge(e,{words_to_choose:r.round.words_to_choose});case"PLAYER_CHOOSED_WORD":return Ge(e,{localStatus:"PLAYER_CHOOSED_WORD",chosed_word:r.word});case"PLAYER_GUESSED_WORD":var o=r.player,a=Le(e.score,o.score);return Ge(e,{score:a});case"CLEAR_ROUND_DATA":return Ie({},Ue);default:return Ie({},e)}},Ge=function(e,t){return Object(U.assign)(e,t)},Le=function(e,t){return e.map(function(e){return e.id==t.id?Ie({},e,t):Ie({},e)})},We=!("undefined"!=typeof window&&window.document&&window.document.createElement),He=m.compose,Ye=We?Object(d.c)({initialEntries:["/"]}):Object(d.a)(),Ke=Object(m.combineReducers)({router:Object(u.connectRouter)(Ye),form:f.reducer,common:K,socket:L,player:V,room:ne,chat:me,game:Ee,modal:Ce,countdown:De,round:Fe}),Be={};We||(Be=window.__PRELOADED_STATE__,delete window.__PRELOADED_STATE__);var qe,ze=[p.a.withExtraArgument({api:P,sockets:x}),Object(u.routerMiddleware)(Ye),(qe={game:v.url.host},D=qe,function(e){return function(t){return function(n){var r=n.type,o=n.socketID,a=n.event,c=n.data,i=n.customActionType;return r===C&&function(e,t){x[t]={connection:io(e,{transports:["websocket"],reconnectionAttempts:5})}}(D[o],o),I(o)?(r===k&&function(e){x[e].connection.disconnect(),x[e]=void 0}(o),r===R&&function(e,t,n,r){var o=void 0!==n&&n?n:t;x[e].connection.on(t,function(e){return r({type:o,payload:e})})}(o,a,i,e.dispatch),r===T&&function(e,t){Array.isArray(t)||(t=[t]),t.forEach(function(t){x[e].connection.removeAllListeners(t)})}(o,a),r===A&&function(e,t,n){x[e].connection.emit(t,n)}(o,a,c),t(n)):t(n)}}}),M],Je=Object(m.createStore)(Ke,Be,He(m.applyMiddleware.apply(void 0,ze))),Qe=n("wIs1"),Ve=n("2iEm"),Xe=n("uNOt"),$e=n("jKe7"),Ze=n("2INN");var et=n("TJpk"),tt=n.n(et);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var it=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return ot(r,(n=r=ot(this,(e=at(t)).call.apply(e,[this].concat(a))),r.state={},n))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){return l.a.createElement("div",{className:this.props.className||""},l.a.createElement(tt.a,null,l.a.createElement("title",null,this.props.title||"Drawthing")),this.props.children)}}])&&rt(n.prototype,r),o&&rt(n,o),t}();function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t){return!t||"object"!==lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ut(this,mt(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,i["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){"scrollRestoration"in history&&(history.scrollRestoration="manual")}},{key:"render",value:function(){return l.a.createElement(it,{title:"Home - Drawthing",className:"page-home"},l.a.createElement("div",{className:"page-home-rules container-fluid"},l.a.createElement("div",{className:"page-home-rules-map"}),l.a.createElement("div",{className:"row page-home-rules-item-container"},l.a.createElement("div",{className:"col-md-12 page-home-playnow-container text-center bg-white"},l.a.createElement("div",{className:"page-home-main-txt mb-2"},l.a.createElement("h1",null,"Drawthing"),l.a.createElement("p",{className:"special-text"},"Join players from around the world in this weird and wild online game. Can you figure out the secret word or phrase that will be drawn during each round? You can join in the fun by drawing one too.")),l.a.createElement(Ve.a,{to:"/play",className:"mybtn2"},l.a.createElement("i",{className:"fa fa-play mr-2","aria-hidden":"true"}),"Play now!")),l.a.createElement("div",{className:"col-md-6 page-home-rules-item-text"},l.a.createElement("h2",null,"Draw your avatar"),l.a.createElement("p",{className:"page-home-max-width-800 special-text"},"Your first step is to draw your avatar on canvas, personalize your avatar however you wish. Next to avatar canvas, you have field for your username. Just type in your username there, and you are good to go!"),l.a.createElement("span",{className:"page-home-rules-pulse page-home-rules-pulse-right rounded-circle"},l.a.createElement("i",{className:"fa fa-paint-brush","aria-hidden":"true"}))),l.a.createElement("div",{className:"col-md-6 page-home-rules-item-image"},l.a.createElement("a",{href:"javascript:void(0)"},l.a.createElement("img",{src:"/img/drawthing_1.png",alt:"draw your drawthing avatar",className:"img-fluid shadow"}))),l.a.createElement("div",{className:"col-md-6 page-home-rules-item-image"},l.a.createElement("a",{href:"javascript:void(0)"},l.a.createElement("img",{src:"/img/drawthing_2.png",alt:"create your drawthing room",className:"img-fluid shadow",style:{width:"350px"}}))),l.a.createElement("div",{className:"col-md-6 page-home-rules-item-text"},l.a.createElement("h2",null,"Create / Join room"),l.a.createElement("p",{className:"page-home-max-width-800 special-text"},"Choose whether you want to create private room, and invite your friends or you want to play in a public room. Note that if you choose to create private room, you will automatically become room admin, so you can control which players may play and which don't."),l.a.createElement("span",{className:"page-home-rules-pulse page-home-rules-pulse-left rounded-circle"},l.a.createElement("i",{className:"fa fa-users","aria-hidden":"true"}))),l.a.createElement("div",{className:"col-md-6 page-home-rules-item-text"},l.a.createElement("h2",null,"Draw / Guess"),l.a.createElement("p",{className:"page-home-max-width-800 special-text"},"Finally, the game starts! After the countdown is over, one random player needs to choose 1 out of 3 words. Game round begins, your concentration to the maximum. You need to guess what others draw or to draw chosen word. For better score you need to do that as fast as possible, or you will loose!"),l.a.createElement("span",{className:"page-home-rules-pulse page-home-rules-pulse-right rounded-circle"},l.a.createElement("i",{className:"fa fa-play-circle","aria-hidden":"true"}))),l.a.createElement("div",{className:"col-md-6 page-home-rules-item-image"},l.a.createElement("a",{href:"javascript:void(0)"},l.a.createElement("img",{src:"/img/drawthing_3.png",className:"img-fluid shadow",alt:"play drawthing game",style:{width:"700px"}}))))))}}])&&st(n.prototype,r),o&&st(n,o),t}(),dt=function(e){var t=e.heading,n=e.description,r=e.img,o=e.link;return l.a.createElement("a",{className:"page-about-tech-card-wrapper-link",target:"_blank",href:o},l.a.createElement("div",{className:"page-about-tech-card rounded"},l.a.createElement("h4",{className:"page-about-tech-card-heading"},t),l.a.createElement("p",{className:"page-about-tech-card-description special-text"},n),l.a.createElement("img",{src:r,className:"img-fluid page-about-tech-card-image"})))};function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Et=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return bt(r,(n=r=bt(this,(e=gt(t)).call.apply(e,[this].concat(a))),r.state={technologies:[{type:"Backend",items:[{heading:"Laravel",description:"Main component that connects other components, handles the whole game (routing, authentication, restfull API...).\n\t\t\t\t\t\tI chose this framework because it is much simpler than the others, do complex things without pain, written code is very intuitive.",img:"/img/laravel.png",link:"https://laravel.com/"},{heading:"Swoole",description:"Provides HTTP and WebSocket Server. Responds to requests from outside with help of NGINX's reverse proxy.\n\t\t\t\t\t\tPowers up Laravel (giving him huge speed) by keeping bootstrap files in memory,\n\t\t\t\t\t\tgiving PHP possibility to do tasks asynchronously.",img:"/img/swoole.png",link:"https://www.swoole.co.uk/"},{heading:"Node.js",description:"Primarily used for server side rendering (SSR). Render HTML from React.js app, so we can solve\n\t\t\t\t\t\tSEO problem by not providing blank page, also used in dev environment.",img:"/img/nodejs.png",link:"https://nodejs.org/"}]},{type:"Frontend",items:[{heading:"React.js",description:"This project was imagined to be Single Page Application (SPA) and that wouldn't be possible without React.js\n\t\t\t\t\t\tAll HTML elements, all forms, the whole game UI that you see here is rendered by React.js.",img:"/img/react.png",link:"https://reactjs.org/"},{heading:"Redux.js",description:"Used in combination with React. manages application state.\n\t\t\t\t\t\tThanks to redux i have access to data in any React component without (passing props) pain.\n\t\t\t\t\t\tGives you ability to separate your code logic from view.",img:"/img/redux.png",link:"https://redux.js.org/"}]},{type:"Storage",items:[{heading:"MySQL",description:"Relational Database Management System, really efficient way for manipulating important game data.",img:"/img/mysql.png",link:"https://www.mysql.com/"},{heading:"Redis",description:"Efficcient and fast in-memory key-value database with optional durability. Used to cache data for better application performance.",img:"/img/redis.png",link:"https://redis.io/"}]}]},n))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){return l.a.createElement(it,{title:"About - Drawthing",className:"page-about"},l.a.createElement("div",{className:"page-padding"},l.a.createElement("div",{className:"impact"},l.a.createElement("div",{className:"impact-inner"},l.a.createElement("h1",{className:"page-about-heading"},"About Drawthing"),l.a.createElement("p",{className:"page-about-description special-text"},"The main concept and idea of this project is learning and discovering the ways in which new and modern web technologies work, the way that they cooperate with each other in order to breathe life into today's modern web applications. The main focus in this application is real-time communication between server and clients provided by WebSockets. In the process of creating this web application I have tried to explore all the possibilities and benefits that WebSockets offer. WebSockets are interesting and popular on the web today, also they are relatively new to me and that's the reasons why I chose this kind of project. Large number of guides that I've run into led me to Node.js, but I wanted to do it in PHP, and then I met Swoole (PHP framework). It supports WebSockets along with a bunch of other stuff. Been playing with it for three days, and all I can say is that it's really amazing. I want to point out that these technologies are not randomly selected. Each of them has its own purpose, and task to do (problem to solve). Below you can read more about what they do in this application.")))),l.a.createElement("div",{className:"container page-about-tech"},l.a.createElement("h2",{className:"page-about-tech-heading"},"Technologies that made Drawthing project possible:"),this.state.technologies.map(function(e){return l.a.createElement("div",{className:"page-about-tech-row",key:Object(ce.v4)()},l.a.createElement("h3",{className:"page-about-tech-row-heading"},e.type),l.a.createElement("div",{className:"row"},e.items.map(function(e){return l.a.createElement("div",{className:"col-md-4",key:Object(ce.v4)()},l.a.createElement(dt,e))})))})))}}])&&ht(n.prototype,r),o&&ht(n,o),t}(),wt=[{eType:"connect",action:"CONNECT_SOCKET_SUCCESS"},{eType:"CONNECT_SOCKET_DATA",action:"CONNECT_SOCKET_DATA"},{eType:"connect_error",action:"CONNECT_SOCKET_FAILURE"},{eType:"error",action:"CONNECT_SOCKET_FAILURE"},{eType:"disconnect",action:"CONNECT_SOCKET_FAILURE"}],Ot=function(e){return{type:C,socketID:e}},_t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:R,socketID:e,event:t,customActionType:n}},St=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{type:T,socketID:e,event:t}},jt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:A,socketID:e,event:t,data:n}},Nt=["SEND_MESSAGE_ROOM_SUCCESS","SEND_MESSAGE_ROOM_FAILURE","RECEIVE_MESSAGE_ROOM"],Pt=function(e){return function(t,n,r){r.api;var o=r.sockets;if(t({type:"SENDING_MESSAGE_ROOM"}),o.game.connection.connected){var a=Object(ye.pick)(n().player,["id","username","password"]),c=Object(ye.pick)(n().room,["uuid"]),i=Object(ye.pick)(n().game,["id","status"]),l={message:{text:e.text},player:a,room:c,game:i};t(jt("game","SEND_MESSAGE_ROOM",l))}}};function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var kt=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}kt.objToFormData=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=new FormData,o=function(e){return Array.isArray(n)&&n.some(function(t){return t===e})};return function e(t,n){if(!o(n))if(n=n||"",t instanceof File||t instanceof Blob)r.append(n,t);else if(Array.isArray(t))for(var a=0;a<t.length;a++)e(t[a],n+"["+a+"]");else if("object"===Ct(t)&&t)for(var c in t)t.hasOwnProperty(c)&&e(t[c],""===n?c:n+"["+c+"]");else null!=t&&r.append(n,t)}(e,t),r};var Tt=function(e){return{type:"CREATE_PLAYER_SUCCESS",payload:e}},At=function(){return{type:"CREATE_PLAYER_FAILURE"}};function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xt(e,t,n[t])})}return e}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var It=["PLAYER_JOINED_ROOM","PLAYER_KICKED","PLAYER_LEAVED_ROOM","REPLACE_ADMIN_ROOM","STARTING_GAME","ROOM_FORM_UPDATED"],Mt=function(e){return{type:"CREATE_ROOM_SUCCESS",payload:e}},Ut=function(e){return{type:"CREATE_ROOM_FAILURE",payload:e}},Ft=function(e){return{type:"JOIN_ROOM_SUCCESS",payload:e}},Gt=function(e){return{type:"JOIN_ROOM_FAILURE",payload:e}},Lt=function(e){return function(t,n,r){var o=r.api;r.sockets;t({type:"KICKING_PLAYER"});var a=n().player,c={player:{id:a.id,username:a.username,password:a.password},room:{uuid:n().room.uuid},player_to_kick:{id:e}};return o.room.kick(c).then(function(e){return t(Wt(e.data)),e}).catch(function(e){console.log(e.response),console.log(e.response.data),t(Ht(e.response.data))})}},Wt=function(e){return{type:"PLAYER_KICK_SUCCESS",payload:e}},Ht=function(e){return{type:"PLAYER_KICK_FAILURE",payload:e}},Yt=function(e){return function(e,t,n){n.api,n.sockets;e(jt("game","LEAVE_ROOM",null))}},Kt=Object(ye.debounce)(function(e,t){t(jt("game","ROOM_FORM_UPDATE",e))},500),Bt=["RECEIVE_DRAWING_GAME","FINISHING_GAME"],qt=function(e){return function(t,n,r){r.api,r.sockets;var o=n().player,a=o.id,c=o.username,i=o.password,l=n().room.uuid;t(jt("game","SEND_DRAWING",{drawing:{items:e},player:{id:a,username:c,password:i},room:{uuid:l}}))}},zt=function(e){return function(e,t,n){var r=n.api;n.sockets;e({type:"STARTING_GAME_REQUEST"});var o=t().player,a={player:{id:o.id,username:o.username,password:o.password},room:{uuid:t().room.uuid}};return r.game.start(a).then(function(t){e(Jt(t.data))}).catch(function(t){console.log(t.response),e(Qt(t.response.data))})}},Jt=function(e){return{type:"STARTING_GAME_REQUEST_SUCCESS",payload:e}},Qt=function(e){return{type:"STARTING_GAME_REQUEST_FAILURE",payload:e}},Vt=["STARTING_ROUND","PLAYER_CHOOSING_WORD","PLAYER_CHOOSED_WORD","CHOOSE_WORD","TICK_ROUND","FINISHING_ROUND","PLAYER_GUESSED_WORD","PLAYER_WAS_CLOSE"],Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t,n,r){r.api,r.sockets;e&&0==e.length&&(e=["player","room","chat","game","round"]),e.forEach(function(e){"room"==e?t({type:"CLEAR_ROOM_DATA"}):"chat"==e?t({type:"CLEAR_CHAT_DATA"}):"player"==e?t({type:"CLEAR_PLAYER_DATA"}):"game"==e?t({type:"CLEAR_GAME_DATA"}):"round"==e&&t({type:"CLEAR_ROUND_DATA"})})}},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t,n,r){r.api,r.sockets;e&&0==e.length&&(e=["room","chat","game","round"]),e.forEach(function(e){"room"==e?t(function(e,t,n){n.api,n.sockets,It.forEach(function(t){return e(St("game",t))})}):"chat"==e?t(function(e,t,n){n.api,n.sockets,Nt.forEach(function(t){return e(St("game",t))})}):"game"==e?t(function(e,t,n){n.api,n.sockets,Bt.forEach(function(t){return e(St("game",t))})}):(e="round")&&t(function(e,t,n){n.api,n.sockets,Vt.forEach(function(t){return e(St("game",t))})})})}},Zt=function(e){return{type:"SHOW_MODAL",payload:e}},en=function(){return{type:"HIDE_MODAL"}};var tn=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),nn.call(this),this.errors=t};tn.init=function(e){return new tn(e)},tn.initFromRequest=function(e){return new tn(Object(ye.get)(e,"response.data.errors",[]))};var nn=function(){var e=this;this.exists=function(t){return void 0!==e.get(t)},this.get=function(t){return e.errors.find(function(e){return e.field==t})},this.getMessage=function(t){return e.exists(t)&&e.get(t).message},this.isGeneralError=function(t){return e.exists(t)&&0==e.get(t).field.length},this.isFormError=function(t){return!e.isGeneralError(t)},this.getGeneralErrors=function(){return e.errors.filter(function(t){return e.isGeneralError(t.field)})},this.getFormErrors=function(){return e.errors.filter(function(t){return e.isFormError(t.field)})},this.remove=function(t){return e.errors.filter(function(e){return e.field!=t})},this.formatForReduxForm=function(){var t={};return e.errors.forEach(function(e){0==e.field.length?t._error=e.message:t[e.field]=e.message}),t}},rn=tn;function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var an=function(e){return{type:"SUBMIT_CONTACT_FORM_SUCCESS",payload:e}},cn=function(){return{type:"SUBMIT_CONTACT_FORM_FAILURE"}};function ln(){return(ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var un=function(e){return function(t){var n=t.input,r=t.meta,o=t.label,a=t.className,c=sn(t,["input","meta","label","className"]);return l.a.createElement("div",{className:"form-group-wrapper ".concat(c.materialDesign?"input-material-wrapper":""," ").concat(a||"col-md-12")},l.a.createElement("div",{className:"form-group"},"checkbox"!=c.type&&o.active&&l.a.createElement("label",{className:[r.active?"input-focused":"",n.value.length>0?"input-filled":""].join(" "),htmlFor:n.name},o.text),e(n,o,c)),r.error&&r.touched&&l.a.createElement("div",{className:"invalid-feedback d-block"},l.a.createElement("i",{className:"fa fa-exclamation-circle","aria-hidden":"true"}),"  ",r.error))}},mn=un(function(e,t,n){var r=n.type,o=n.disabled,a=n.placeholder,c=n.options;return l.a.createElement("input",ln({},e,{type:r||"text",id:e.name,disabled:o||!1,placeholder:a.active?a.text:"",className:"form-control ".concat(Object(ye.get)(c,"className",""))},c))}),fn=un(function(e,t,n){var r=n.disabled,o=n.options,a=n.placeholder;return l.a.createElement("textarea",ln({},e,{id:e.name,disabled:r||!1,placeholder:a.active?a.text:"",className:"form-control"},o))}),pn=(un(function(e,t,n){var r=n.disabled,o=sn(n,["disabled"]);return l.a.createElement("select",ln({},e,{id:e.name,disabled:r||!1,className:"form-control"}),o.children)}),function(e){return function(t){return e(t.target.files[0])}});un(function(e,t,n){var r=e.value,o=e.onChange,a=e.onBlur,c=sn(e,["value","onChange","onBlur"]),i=n.disabled;sn(n,["disabled"]);return l.a.createElement("div",{className:"file-input-field"},l.a.createElement("input",ln({},c,{type:"file",id:c.name,disabled:i||!1,onChange:pn(o),onBlur:pn(a)})),r&&l.a.createElement("img",{src:_.get(r,"type",!1)?URL.createObjectURL(r):r,className:"img-rounded img-responsive"}))}),un(function(e,t,n){var r=n.disabled;sn(n,["disabled"]);return l.a.createElement("div",{className:"form-check"},l.a.createElement("input",ln({},e,{type:"checkbox",id:e.name,disabled:r||!1,className:"form-check-input"})),t.active&&l.a.createElement("label",{className:"form-check-label",htmlFor:e.name},t.text))});function dn(){return(dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var hn=function(e){var t=e.children,n=e.icon,r=e.disabled,o=yn(e,["children","icon","disabled"]);return l.a.createElement("button",dn({},o,{disabled:r}),n&&l.a.createElement("i",{className:"fa ".concat(r?"fa-hourglass-half spinner-icon":n," mr-2"),"aria-hidden":"true"}),t)},bn=n("+QwO"),gn=n.n(bn);function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function En(e){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var wn=function(e,t){var n=!0;if(!t)return!0;if(t.required)switch(En(e)){case"string":n=""!==e.trim()&&n;break;case"boolean":case"object":n=e&&n}return t.requiredSelect&&(n=""!==e.trim()&&"0"!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.email&&(n=gn.a.isEmail(e)&&n),n};function On(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Sn=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.field=function(e){return Object(ye.get)(n.fields,e,null)},this.mergeWithDefaults=function(e){var t={};return Object.entries(e).forEach(function(e){var n=On(e,2),r=n[0],o=n[1];t[r]=Object(ye.merge)(Object(ye.cloneDeep)(jn),o)}),t},this.originalFields=t,this.fields=this.mergeWithDefaults(t)}var t,n,r;return t=e,(n=[{key:"getFields",value:function(){return this.fields}}])&&_n(t.prototype,n),r&&_n(t,r),e}(),jn={type:"text",label:{text:"",active:!0,options:{class:""}},placeholder:{text:"",active:!1},validation:{required:!0},materialDesign:!1,errMessage:"required!"},Nn=new Sn({name:{type:"text",label:{text:"Name",active:!0,options:{}},validation:{required:!0,minLength:2},materialDesign:!0,errMessage:"Name must be min 2 characters!"},email:{type:"email",label:{text:"Email"},validation:{required:!0,email:!0},materialDesign:!0,errMessage:"Email must be valid!"},subject:{type:"text",label:{text:"Subject"},validation:{required:!0,minLength:2},materialDesign:!0,errMessage:"Subject must be min 2 characters!"},message:{type:"textarea",label:{text:"Message"},options:{rows:"3"},validation:{required:!0,minLength:5},materialDesign:!0,errMessage:"Message must be min 5 characters!"}}).getFields();function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(){return(Cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return Rn(r,(n=r=Rn(this,(e=Tn(t)).call.apply(e,[this].concat(a))),r.state={},r.handleContactForm=Object(ye.throttle)(function(e){return r.props.handleSubmitContactForm(e)},1e3),n))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.submitting,r=e.submitSucceeded,o=e.anyTouched,a=e.error,c=Nn.name,i=Nn.email,s=Nn.subject,u=Nn.message;return l.a.createElement("form",{onSubmit:t(this.handleContactForm)},l.a.createElement(f.Field,Cn({name:"name",component:mn},c)),l.a.createElement(f.Field,Cn({name:"email",component:mn},i)),l.a.createElement(f.Field,Cn({name:"subject",component:mn},s)),l.a.createElement(f.Field,Cn({name:"message",component:fn},u)),l.a.createElement("div",{className:"col-md-12"},!o&&r&&l.a.createElement("small",{className:"text-success d-block my-3"},"Message successfully sent!"),a&&l.a.createElement("small",{className:"text-danger d-block my-3"},a),l.a.createElement(hn,{type:"submit",icon:"fa-paper-plane",className:"mybtn2",disabled:n},"Submit")))}}])&&kn(n.prototype,r),o&&kn(n,o),t}(),xn=Object(f.reduxForm)({form:"contactForm",validate:function(e){return function(t,n){var r={},o=new Map(Object.entries(e)),a=!0,c=!1,i=void 0;try{for(var l,s=o[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var u=vn(l.value,2),m=u[0],f=u[1],p=f.validation,d=f.errMessage;wn(_.get(t,m,""),p)||(r[m]=d)}}catch(e){c=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(c)throw i}}return r}}(Nn),enableReinitialize:!0})(Dn);function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e,t){return!t||"object"!==In(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ln=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return Un(r,(n=r=Un(this,(e=Fn(t)).call.apply(e,[this].concat(a))),r.state={},r.handleMailTo=function(e){e.preventDefault(),window.location.href="mailto:&#97;&#108;&#101;&#107;&#115;&#97;.j.&#49;&#57;96&#64;&#103;m&#97;&#105;l&#46;&#99;&#111;&#109;?Subject=Hello"},n))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){return l.a.createElement(it,{title:"Contact me - Drawthing",className:"page-contact"},l.a.createElement("div",{className:"page-padding page-contact-wrapper"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h1",{className:"page-contact-heading"},"Get in touch !"),l.a.createElement("p",{className:"page-contact-description"},"If you have any questions about this project, how it works or maybe about technologies that i used, just say hello. Also I am always open to discussing new projects, creative ideas or opportunities."),l.a.createElement("p",{className:"page-contact-description"},"Author of this project:  ",l.a.createElement("a",{target:"_blank",href:"https://aleksajovanovic.com"},"Aleksa Jovanovic")),l.a.createElement("div",{className:"page-contact-icons"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"javascript:void(0)",onClick:this.handleMailTo,className:"mybtn1"},l.a.createElement("i",{className:"fa fa-envelope-o","aria-hidden":"true"}))),l.a.createElement("li",null,l.a.createElement("a",{target:"_blank",href:"https://github.com/Aleksa1996/",className:"mybtn1"},l.a.createElement("i",{className:"fa fa-github","aria-hidden":"true"}))),l.a.createElement("li",null,l.a.createElement("a",{target:"_blank",href:"https://www.linkedin.com/in/aleksaj",className:"mybtn1"},l.a.createElement("i",{className:"fa fa-linkedin","aria-hidden":"true"})))))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{id:"page-contact-form"},l.a.createElement("div",{className:"bg-white rounded shadow py-3"},l.a.createElement(xn,{handleSubmitContactForm:this.props.submitContactForm}))))))))}}])&&Mn(n.prototype,r),o&&Mn(n,o),t}(),Wn=Object(s.connect)(function(e){return{}},{submitContactForm:function(e){return function(t,n,r){var o=r.api;r.sockets,t({type:"SUBMITTING_CONTACT_FORM"});var a=kt.objToFormData(e);return o.contact.submit(a).then(function(e){return t(an(e.data)),t(Object(f.reset)("contactForm")),e}).catch(function(e){throw t(cn()),new f.SubmissionError(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){on(e,t,n[t])})}return e}({},rn.initFromRequest(e).formatForReduxForm()))})}}})(Ln);var Hn=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(ye.forEach)(t,function(e,t){n[t]=Object(ye.cloneDeep)(e)})};function Yn(e){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kn(e,t){return!t||"object"!==Yn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qn(e,t){return(qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return Kn(r,(n=r=Kn(this,(e=Bn(t)).call.apply(e,[this].concat(a))),r.isCreated=function(){return r.created&&r.errors&&0==r.errors.length},r.isJoined=function(){return r.joined&&r.errors&&0==r.errors.length},r.isReady=function(){return r.isCreated()||r.isJoined()},r.isPlayerAdmin=function(e){return r.administered_by==e.id},r.getPlayer=function(e){return r.players.find(function(t){return t.id==e})},r.isPlayerActive=function(e){var t=r.getPlayer(e);return t&&Object(ye.get)(t,"active",!0)},r.getActivePlayers=function(){return r.players.filter(function(e){return Object(ye.get)(e,"active",!0)})},r.isEmpty=function(){return r.players.length<=0},r.getPlayerCount=function(){return r.players.length},r.getActivePlayerCount=function(){return r.getActivePlayers().length},r.isPlayerKicked=function(e){return r.lastKickedPlayer.id==e.id},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qn(e,t)}(t,Hn),t}();function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e,t){return!t||"object"!==Jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xn(e,t){return(Xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $n=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return Qn(r,(n=r=Qn(this,(e=Vn(t)).call.apply(e,[this].concat(a))),r.parseEmojis=function(e,t){return r.splitWordsFromMessage(e).map(function(e){var n=Object(ye.find)(r.emojis,function(t){return t.text==e.trim()});return t(n,e)})},r.splitWordsFromMessage=function(e){return Object(ye.split)(r.emojis.reduce(function(e,t){return e.replace(t.text," ".concat(t.text," "))},e),/\s+/g)},r.hasMessages=function(){return r.messages.length>0},r.getTypeClassname=function(e){return Object(ye.get)(e,"type.className","")},r.isMessageByPlayer=function(e){return Object(ye.has)(e,"player_id")},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xn(e,t)}(t,Hn),t}();function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e,t){return!t||"object"!==Zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tr(e){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nr(e,t){return(nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),er(this,tr(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nr(e,t)}(t,Hn),t}();function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ar(e,t){return!t||"object"!==or(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cr(e){return(cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ir(e,t){return(ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lr=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return ar(r,(n=r=ar(this,(e=cr(t)).call.apply(e,[this].concat(a))),r.inProgress=function(){return"in_progress"==r.status},r.starting=function(){return"starting"==r.status},r.notStarted=function(){return null==r.status},r.finished=function(){return"finished"==r.status},r.isCanvasEmpty=function(){return r.drawing.items.length<=0},r.getScoreForPlayer=function(e){return r.rounds.reduce(function(t,n){var r=0,o=n.score.find(function(t){return t.player_id==e.id});return o&&(r=o.points),t+r},0)},r.getFinalScoreForPlayer=function(e){return r.finalScores.reduce(function(t,n){var r=0,o=n.score.find(function(t){return t.player_id==e.id});return o&&(r=o.points),t+r},0)},r.sortPlayersByScore=function(e){return Object(ye.orderBy)(e,["score"],["desc"])},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(t,Hn),t}();function sr(e){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ur(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function mr(e,t){return!t||"object"!==sr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dr=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return mr(r,(n=r=mr(this,(e=fr(t)).call.apply(e,[this].concat(a))),r.isPlayerDrawing=function(e){return r.drawn_by&&r.drawn_by==e.id},r.isPlayerChoosingWord=function(){return"PLAYER_CHOOSING_WORD"==r.localStatus},r.isPlayerChoosedWord=function(){return"PLAYER_CHOOSED_WORD"==r.localStatus},r.chosedWordToArrayOfLetters=function(){return ur(r.chosed_word.word)},r.chosedWordExists=function(){return r.chosed_word&&"object"===sr(r.chosed_word)},r.starting=function(){return"ROUND_STARTING"==r.localStatus},r.inProgress=function(){return"ROUND_IN_PROGRESS"==r.localStatus},r.finished=function(){return"ROUND_FINISHED"==r.localStatus},r.getFormattedTimer=function(){return r.timer},r.nearEnd=function(){return r.inProgress()&&!r.finished()&&r.seconds<=15},r.playerGuessedWord=function(e){var t=r.score.find(function(t){return t.player_id==e.id});return!!t&&t.guessed},r.getDrawer=function(e){return e.find(r.isPlayerDrawing)},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(t,Hn),t}(),yr=function(e){var t=e.children;return l.a.createElement("div",{className:"game-board-container"},t)},hr=function(e){var t=e.player,n=e.room,r=e.game,o=e.round;return l.a.createElement("div",{className:"game-board-toolbar-container container-fluid"},l.a.createElement("div",{className:"game-board-toolbar-container-border"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6 col-sm-4 col-md-4 col-lg-3 d-flex justify-content-between align-items-center"},l.a.createElement("p",{className:"game-board-rounds m-1"},"ROUND: ",o.inProgress()?"".concat(o.number," of ").concat(r.number_of_rounds):""),l.a.createElement("p",{className:"game-board-clock m-1 d-block ".concat(o.nearEnd()?"bounceAnimation":"")},l.a.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"}),"  ",o.getFormattedTimer())),l.a.createElement("div",{className:"col-6 col-sm-8 col-md-7 col-lg-8 game-board-guessing-word-container d-flex justify-content-center align-items-center"},l.a.createElement("div",{className:""},l.a.createElement("p",{className:"game-board-guessing-word mb-0 text-transform-uppercase"},o.chosedWordExists()?o.chosedWordToArrayOfLetters().map(function(e,n){return l.a.createElement("span",{key:n,className:"game-board-guessing-word-letter ".concat(e.trim()?"":"whitespace")},o.isPlayerDrawing(t)?e:" ")}):o.isPlayerChoosingWord()&&l.a.createElement("span",{className:"bounceAnimation d-block"},Object(ye.get)(o.getDrawer(n.getActivePlayers()),"username","")," choosing word")))),l.a.createElement("div",{className:"col-sm-1 col-md-1 col-lg-1 d-flex justify-content-center align-items-center"},l.a.createElement(Ve.a,{className:"basic-link-white text-decoration-none my-transition-elastic",to:"/play"},"QUIT")))))};function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gr=function(e){var t=e.player,n=e.room,r=e.game,o=e.round,a=n.getActivePlayers().map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){br(e,t,n[t])})}return e}({},e,{score:r.getScoreForPlayer(e)})});return l.a.createElement("div",{className:"col-md-3 order-3 order-md-1 my-md-0 my-3"},l.a.createElement("div",{className:"game-board-container-left"},l.a.createElement("div",{className:"game-board-score shadow rounded"},l.a.createElement("div",{className:"game-board-score-header rounded"},l.a.createElement("i",{className:"fa fa-trophy","aria-hidden":"true"}),l.a.createElement("span",{className:"text-transform-uppercase"},"Scoreboard")),l.a.createElement("ul",{className:"game-board-score-list"},r.sortPlayersByScore(a).map(function(e,n){return l.a.createElement("li",{key:e.id,className:"game-board-score-row rounded"},l.a.createElement("span",{className:"game-board-score-avatar-container"},l.a.createElement("span",{className:"game-board-score-drawing"},o.isPlayerDrawing(e)&&l.a.createElement("i",{className:"fa fa-paint-brush","aria-hidden":"true"})),l.a.createElement("span",{className:"game-board-score-avatar"},l.a.createElement("img",{src:e.avatar,className:"shadow"}),l.a.createElement("span",{className:"game-board-score-position"},n+1))),l.a.createElement("span",{className:"game-board-score-username"},e.username," ",t.id==e.id?l.a.createElement("small",null," (you)"):null,l.a.createElement("small",{className:"game-board-score-points"},"(",e.score,") points")))})))))},vr=n("17x9"),Er=n.n(vr),wr=n("i8i4"),Or=n.n(wr),_r="pencil",Sr=function(e){var t=null,n=[],r=function(t,n,r){var o=r.x,a=r.y;e.save(),e.lineJoin="round",e.lineCap="round",e.beginPath(),e.lineWidth=t.size,e.strokeStyle=t.color,e.globalCompositeOperation="source-over",e.moveTo(n.x,n.y),e.lineTo(o,a),e.closePath(),e.stroke(),e.restore()},o=function(e,o){if(!t)return[];var a={x:e,y:o},c=t.points.slice(-1)[0];return r(t,c,a),t.points.push(a),n.push(a),[t]};return{onMouseDown:function(e,n,r,o){return[t={id:Object(ce.v4)(),tool:_r,color:r,size:o,points:[{x:e,y:n}]}]},onMouseMove:o,onDebouncedMouseMove:function(){var e=n;return n=[],[t,e]},onMouseUp:function(e,r){if(t){o(e,r),n=[];var a=t;return t=null,[a]}},draw:function(e,t){for(var n=0,o=0,a=e.points.length;o<a;o++)e.points[o-1]&&(t?(setTimeout(r.bind(null,e,e.points[o-1],e.points[o]),n),n+=10):r(e,e.points[o-1],e.points[o]))}}},jr="line",Nr=function(e){var t=null,n=null,r=function(t,n,r){e.save(),e.lineJoin="round",e.lineCap="round",e.beginPath(),e.lineWidth=t.size,e.strokeStyle=t.color,e.globalCompositeOperation="source-over",e.moveTo(t.start.x,t.start.y),e.lineTo(n,r),e.closePath(),e.stroke(),e.restore()},o=function(o,a){t&&(e.putImageData(n,0,0),r(t,o,a))};return{onMouseDown:function(r,o,a,c){return t={id:Object(ce.v4)(),tool:jr,color:a,size:c,start:{x:r,y:o},end:null},n=e.getImageData(0,0,e.canvas.clientWidth,e.canvas.clientHeight),[t]},onMouseMove:o,onMouseUp:function(e,r){if(t){o(e,r);var a=t;return n=null,t=null,a.end={x:e,y:r},[a]}},draw:function(e){return r(e,e.end.x,e.end.y)}}},Pr="ellipse",Cr=function(e){var t=null,n=null,r=function(t,n,r){var o=n<t.start.x?n:t.start.x,a=r<t.start.y?r:t.start.y,c=.5*((n>=t.start.x?n:t.start.x)-o),i=.5*((r>=t.start.y?r:t.start.y)-a),l=o+c,s=a+i;e.save(),e.beginPath(),e.lineWidth=t.size,e.strokeStyle=t.color,e.fillStyle=t.fill,"function"==typeof e.ellipse?e.ellipse(l,s,c,i,0,0,2*Math.PI):function(t,n,r,o){for(var a,c,i=0;i<2*Math.PI;i+=.01)a=t-o*Math.sin(i)*Math.sin(0)+r*Math.cos(i)*Math.cos(0),c=n+r*Math.cos(i)*Math.sin(0)+o*Math.sin(i)*Math.cos(0),0===i?e.moveTo(a,c):e.lineTo(a,c)}(l,s,c,i),e.stroke(),t.fill&&e.fill(),e.closePath(),e.restore()},o=function(o,a){t&&(e.putImageData(n,0,0),r(t,o,a))};return{onMouseDown:function(r,o,a,c,i){return t={id:Object(ce.v4)(),tool:Pr,color:a,size:c,fill:i,start:{x:r,y:o},end:null},n=e.getImageData(0,0,e.canvas.clientWidth,e.canvas.clientHeight),[t]},onMouseMove:o,onMouseUp:function(e,r){if(t){o(e,r);var a=t;return n=null,t=null,a.end={x:e,y:r},[a]}},draw:function(e){return r(e,e.end.x,e.end.y)}}},kr="rectangle",Rr=function(e){var t=null,n=null,r=function(t,n,r){var o=n<t.start.x?n:t.start.x,a=r<t.start.y?r:t.start.y,c=Math.abs(t.start.x-n),i=Math.abs(t.start.y-r);e.beginPath(),e.lineWidth=t.size,e.strokeStyle=t.color,e.fillStyle=t.fill,e.rect(o,a,c,i),e.stroke(),t.fill&&e.fill()},o=function(o,a){t&&(e.putImageData(n,0,0),e.save(),r(t,o,a),e.restore())};return{onMouseDown:function(r,o,a,c,i){return t={id:Object(ce.v4)(),tool:kr,color:a,size:c,fill:i,start:{x:r,y:o},end:null},n=e.getImageData(0,0,e.canvas.clientWidth,e.canvas.clientHeight),[t]},onMouseMove:o,onMouseUp:function(e,r){if(t){o(e,r);var a=t;return n=null,t=null,a.end={x:e,y:r},[a]}},draw:function(e){return r(e,e.end.x,e.end.y)}}},Tr=n("01jY"),Ar=n.n(Tr);function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ir(e,t){return!t||"object"!==Dr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ur(e,t){return(Ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ir(this,Mr(t).call(this,e))).handleShow=function(e){n.setState(function(e){return{show:!e.show}})},n.handleToolLocally=function(e){var t=e.currentTarget,r=t.name,o=t.value;"size"==r&&(o=parseInt(o)),n.props.handleTool({name:r,value:o})},n.state={show:e.show,defaultPosition:e.defaultPosition},n.toolsMap=[{toolText:[_r],tool:Sr},{toolText:[jr],tool:Nr},{toolText:[kr],tool:Rr},{toolText:[Pr],tool:Cr}],n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ur(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.state,t=e.defaultPosition,n=e.show,r=this.props,o=r.tool,a=r.size,c=r.color,i=r.fillColor,s=r.isEraserActive;return l.a.createElement(Ar.a,{axis:"both",handle:".game-tools-handle",defaultPosition:t,position:null,scale:1},l.a.createElement("div",{className:"game-tools-container shadow rounded"},l.a.createElement("div",{className:"game-tools-handle d-flex justify-content-between align-items-baseline rounded"},l.a.createElement("span",{className:"text-transform-uppercase"},l.a.createElement("i",{className:"fa fa-wrench","aria-hidden":"true"}),"Available tools"),l.a.createElement("div",{className:"game-tools-header-icons"},l.a.createElement("i",{className:"fa fa-arrows","aria-hidden":"true"}),l.a.createElement("i",{onClick:this.handleShow,className:"fa ".concat(n?"fa-eye-slash":"fa-eye"," "),"aria-hidden":"true",style:{cursor:"pointer"}}))),l.a.createElement("form",{style:{display:n?"block":"none"}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"tool"},"Drawing tool"),l.a.createElement("select",{onChange:this.handleToolLocally,value:o,className:"custom-select",name:"tool",id:"tool"},this.toolsMap.map(function(e){return l.a.createElement("option",{key:e.toolText,value:e.toolText},Object(ye.capitalize)(e.toolText))}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"size"},"Weight"),l.a.createElement("input",{onChange:this.handleToolLocally,type:"range",className:"custom-range",name:"size",id:"size",value:a})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"tool_color"},"Color"),l.a.createElement("input",{onChange:this.handleToolLocally,type:"color",value:c,className:"form-control",name:"color",id:"color"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"fillColor"},"Fill color"),l.a.createElement("input",{onChange:this.handleToolLocally,type:"color",value:i,className:"form-control",name:"fillColor",id:"fillColor"})),l.a.createElement("div",{className:"game-tools-buttons"},l.a.createElement("button",{onClick:this.handleToolLocally,type:"button",className:"mybtn2",name:"undo",value:"undo"},l.a.createElement("i",{className:"fa fa-undo mr-2","aria-hidden":"true"}),"Undo"),l.a.createElement("button",{onClick:this.handleToolLocally,type:"button",className:"mybtn2 ".concat(s?"active":""),name:"eraser",value:"eraser"},l.a.createElement("i",{className:"fa fa-eraser mr-2","aria-hidden":"true"}),"Eraser"),l.a.createElement("button",{onClick:this.handleToolLocally,type:"button",className:"mybtn2",name:"clear",value:"clear"},l.a.createElement("i",{className:"fa fa-times mr-2","aria-hidden":"true"}),"Clear")))))}}])&&xr(n.prototype,r),o&&xr(n,o),t}();Fr.propTypes={show:Er.a.bool,defaultPosition:Er.a.shape({x:Er.a.number,y:Er.a.number})},Fr.defaultProps={show:!1,defaultPosition:{x:0,y:0}};var Gr,Lr=Fr;function Wr(e){return(Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kr(e,t){return!t||"object"!==Wr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Br(e){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qr(e,t){return(qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jr=(zr(Gr={},_r,Sr),zr(Gr,jr,Nr),zr(Gr,kr,Rr),zr(Gr,Pr,Cr),Gr),Qr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Kr(this,Br(t).call(this,e))).setCanvasSize=function(){n.canvas.width=n.canvasContainer.current.offsetWidth,n.canvas.height=n.canvasContainer.current.offsetHeight},n.initTool=function(e){return n.toolObj=n.props.toolsMap[e](n.ctx)},n.clearCanvas=function(){return n.ctx.clearRect(0,0,n.canvas.width,n.canvas.height)},n.redraw=function(e,t){n.clearCanvas();var r=e.slice(),o=r.pop();r.forEach(function(e){n.initTool(e.tool),n.toolObj.draw(e,!1)}),o&&(n.initTool(o.tool),n.toolObj.draw(o,t))},n.onMouseDown=function(e){var t;if(!n.props.canvasDisabled){var r=n.props,o=r.onItemStart,a=r.onDebouncedItemChange,c=r.debounceTime,i=n.state,l=i.color,s=i.size,u=i.fillColor,m=i.eraser,f=i.tool;n.initTool(f),m&&(n.initTool(_r),l="#ffffff",s=20);var p=(t=n.toolObj).onMouseDown.apply(t,Hr(n.getCursorPosition(e)).concat([l,s,u]));p&&p[0]&&o&&o.apply(null,p),a&&(n.interval=setInterval(n.onDebouncedMove,c))}},n.onDebouncedMove=function(){"function"==typeof n.toolObj.onDebouncedMouseMove&&n.props.onDebouncedItemChange&&n.props.onDebouncedItemChange.apply(null,n.toolObj.onDebouncedMouseMove())},n.onMouseMove=function(e){var t;if(!n.props.canvasDisabled){var r=(t=n.toolObj).onMouseMove.apply(t,Hr(n.getCursorPosition(e)));r&&r[0]&&n.props.onEveryItemChange&&n.props.onEveryItemChange.apply(null,r)}},n.onMouseUp=function(e){var t;if(!n.props.canvasDisabled){var r=(t=n.toolObj).onMouseUp.apply(t,Hr(n.getCursorPosition(e)));r&&r[0]&&n.props.onCompleteItem&&n.props.onCompleteItem.apply(null,r),n.props.onDebouncedItemChange&&(clearInterval(n.interval),n.interval=null)}},n.getCursorPosition=function(e){var t=n.canvas.getBoundingClientRect(),r=n.canvas.width/t.width,o=n.canvas.height/t.height;return[(e.clientX-t.left)*r,(e.clientY-t.top)*o]},n.handleTool=function(e){var t=e.name,r=e.value;"eraser"==t?n.setState(function(e){return{eraser:!e.eraser}}):"clear"==t?n.props.onClear():"undo"==t?n.props.onUndo():n.setState(zr({},t,r))},n.state={tool:e.tool,size:e.size,color:e.color,fillColor:e.fillColor,eraser:!1},n.toolObj=null,n.nterval=null,n.canvasContainer=l.a.createRef(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qr(e,t)}(t,i["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.canvas=Object(wr.findDOMNode)(this.canvasRef),this.ctx=this.canvas.getContext("2d"),this.initTool(this.state.tool),this.setCanvasSize()}},{key:"componentDidUpdate",value:function(e,t){e.tool;var n=e.items;this.props.items.length!=n.length&&this.redraw(this.props.items,this.props.animate&&this.props.items.length>n.length)}},{key:"render",value:function(){var e=this,t=this.props,n=t.canvasClassName,r=t.children,o=t.gtShow,a=t.gtDefaultPosition,c=this.state,i=c.tool,s=c.size,u=c.color,m=c.fillColor,f=c.eraser;return l.a.createElement("div",{className:"sketchpad-container",ref:this.canvasContainer,style:{height:"100%"}},!this.props.canvasDisabled&&l.a.createElement(Lr,{defaultPosition:a,show:o,handleTool:this.handleTool,tool:i,size:s,color:u,fillColor:m,isEraserActive:f}),l.a.createElement("canvas",{ref:function(t){return e.canvasRef=t},className:n,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseOut:this.onMouseUp,onMouseUp:this.onMouseUp,style:{width:"100%",height:"100%"}}),r)}}])&&Yr(n.prototype,r),o&&Yr(n,o),t}();function Vr(){return(Vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}Qr.propTypes={items:Er.a.array.isRequired,animate:Er.a.bool,canvasClassName:Er.a.string,color:Er.a.string,fillColor:Er.a.string,size:Er.a.number,tool:Er.a.string,toolsMap:Er.a.object,onItemStart:Er.a.func,onEveryItemChange:Er.a.func,onDebouncedItemChange:Er.a.func,onCompleteItem:Er.a.func,debounceTime:Er.a.number,canvasDisabled:Er.a.bool},Qr.defaultProps={color:"#000",size:5,fillColor:"",canvasClassName:"canvas",debounceTime:1e3,animate:!0,tool:_r,toolsMap:Jr,eraser:!1,canvasDisabled:!1};var $r=l.a.forwardRef(function(e,t){var n=e.onCompleteItem,r=e.onUndo,o=e.onClear,a=Xr(e,["onCompleteItem","onUndo","onClear"]);return l.a.createElement("div",{className:"col-md-6 order-1 order-md-2 my-md-0 my-3 px-md-3"},l.a.createElement("div",{className:"game-board-container-center"},l.a.createElement("div",{className:"game-board-sketchpad shadow rounded"},l.a.createElement(Qr,Vr({},a,{onCompleteItem:n,onUndo:r,onClear:o,ref:t,gtDefaultPosition:{x:0,y:-61}})))))}),Zr=function(e){var t=e.chat,n=e.message,r=e.username;return l.a.createElement("div",{className:"game-board-chat-message"},l.a.createElement("div",{className:"d-flex justify-content-start align-items-baseline flex-row"},r&&r.length>1&&l.a.createElement("div",{className:"game-board-chat-user mr-2 text-nowrap"},l.a.createElement("span",{className:"text-nowrap"},r,":")),l.a.createElement("div",{className:"game-board-chat-text rounded"},l.a.createElement("p",{className:"m-0 ".concat(t.getTypeClassname(n))},t.parseEmojis(n.text,function(e,t){return e?l.a.createElement("i",{key:Object(ce.v4)(),className:"fa ".concat(e.class," mx-1")}):" ".concat(t," ")})))))},eo=l.a.forwardRef(function(e,t){var n=e.player,r=e.room,o=e.chat,a=e.round,c=e.handleChatSend,i=a.isPlayerDrawing(n)||a.isPlayerChoosingWord()||a.playerGuessedWord(n);return l.a.createElement("div",{className:"col-md-3 order-2 order-md-3 my-md-0 my-3"},l.a.createElement("div",{className:"game-board-container-right"},l.a.createElement("div",{className:"game-board-chat shadow rounded"},l.a.createElement("div",{className:"game-board-chat-header rounded"},l.a.createElement("i",{className:"fa fa-comment","aria-hidden":"true"}),l.a.createElement("span",{className:"text-transform-uppercase"},"Chat")),l.a.createElement("div",{className:"game-board-chat-body",ref:t},o.messages.map(function(e){return l.a.createElement(Zr,{key:e.id,chat:o,message:e,username:Object(ye.get)(r.getPlayer(e.player_id),"username","")})})),l.a.createElement("div",{className:"game-board-chat-footer rounded-bottom"},l.a.createElement("form",{onSubmit:c},l.a.createElement("input",{type:"text",name:"game-board-chat-input",className:"form-control",id:"game-board-chat-input",placeholder:"Type word...",disabled:i,autoComplete:"off"})),l.a.createElement("div",{className:"game-board-chat-emojis"},l.a.createElement("div",{className:"dropdown dropup"},l.a.createElement("a",{className:"btn btn-secondary dropdown-toggle ".concat(i?"disabled":""),href:"javascript:void(0)",role:"button",id:"game-board-chat-emojis-dropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("i",{className:"fa fa-smile-o","aria-hidden":"true"})),l.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},l.a.createElement("ul",null,o.emojis.map(function(e){return l.a.createElement("li",{key:Object(ce.v4)(),onClick:function(t){return c(t,e.text)}},l.a.createElement("i",{className:"fa ".concat(e.class),"aria-hidden":"true"}))})))))))))}),to="KICK_PLAYER_MODAL",no="CHOOSE_WORD_MODAL";function ro(e){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oo(){return(oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){co(e,t,n[t])})}return e}function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function so(e,t){return!t||"object"!==ro(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uo(e){return(uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fo=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=so(this,uo(t).call(this,e))).scrollToBottom=function(){var e=n.chatBodyRef.current;void 0!==e&&void 0!==e.scrollTop&&void 0!==e.scrollHeight&&(e.scrollTop=e.scrollHeight)},n.updateDrawingUI=function(){var e=n.props,t=e.player,r=e.round,o=new dr(r).isPlayerDrawing(t);o&&(n.props.requestWordsToChoose(),n.props.showModal({modalType:no,modalProps:{}})),n.setState(function(e){return{sketchpad:ao({},e.sketchpad,{canvasDisabled:!o,animate:!o})}}),n.props.clearState(["chat"]),n.props.sketchClear()},n.onCompleteDrawing=function(e){return n.props.sketchDraw(e)},n.onUndo=function(e){return n.props.sketchUndo()},n.onClear=function(e){return n.props.sketchClear()},n.handleChatSend=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.preventDefault();var r=n.props,o=r.player,a=r.round,c=new dr(a);if(c.isPlayerDrawing(o)||c.isPlayerChoosingWord()||c.playerGuessedWord(o))return!1;var i="";if("submit"==e.type){if((i=e.target.elements["game-board-chat-input"].value)&&i.length<=0)return!1;e.target.reset()}else"click"==e.type&&t&&(i=t);n.props.sendMessageRoom({text:i})},n.sketchpadRef=l.a.createRef(),n.chatBodyRef=l.a.createRef(),n.subscribedToGameGlobalEvents=!1,n.state={sketchpad:{width:900,height:900,tool:"pencil",size:5,color:"#151515",fillColor:"#fdffff",animate:!0,eraser:!1,gtDefaultPosition:{x:0,y:0},gtShow:!1,canvasDisabled:!1}},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(t,i["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.room,n=e.replace,r=e.socket,o=e.subscribeToGameGlobalEvents,a=e.subscribeToRoundGlobalEvents,c=new zn(t);try{if(!r.connected)throw new Error("Socket not connected");if(!c.isReady())throw new Error("Room is not ready");this.subscribedToGameGlobalEvents||(o(),a(),this.subscribedToGameGlobalEvents=!0),this.updateDrawingUI()}catch(e){console.log(e),n("/play")}}},{key:"componentDidUpdate",value:function(e){var t=e.chat,n=e.round,r=e.game,o=this.props,a=o.chat,c=o.game,i=o.round,l=new $n(a),s=new lr(c),u=new dr(i);t.messages.length!=l.messages.length&&l.hasMessages()&&this.scrollToBottom(),n.drawn_by==u.drawn_by&&r.id==s.id||this.updateDrawingUI(),s.finished()&&r.status!=s.status&&(this.props.showModal({modalType:"SHOW_SCOREBOARD_MODAL"}),this.props.sketchClear())}},{key:"componentWillUnmount",value:function(){this.props.leaveRoom(),this.props.clearState(),this.props.clearSubscriptions()}},{key:"render",value:function(){var e=this.props,t=e.player,n=e.room,r=e.chat,o=e.game,a=e.round,c=new rr(t),i=new zn(n),s=new $n(r),u=new lr(o),m=new dr(a);return l.a.createElement(it,{title:"Game - Drawthing",className:"container-fluid page-game"},l.a.createElement(yr,null,l.a.createElement(hr,{player:c,room:i,game:u,round:m}),l.a.createElement("div",{className:"row no-gutters"},l.a.createElement(gr,{player:c,room:i,game:u,round:m}),l.a.createElement($r,oo({},this.state.sketchpad,{items:o.drawing.items,onCompleteItem:this.onCompleteDrawing,onUndo:this.onUndo,onClear:this.onClear,canvasClassName:"game-sketchpad-canvas",ref:this.sketchpadRef})),l.a.createElement(eo,{player:c,room:i,chat:s,round:m,handleChatSend:this.handleChatSend,ref:this.chatBodyRef}))))}}])&&lo(n.prototype,r),o&&lo(n,o),t}(),po=Object(s.connect)(function(e){return{player:e.player,room:e.room,chat:e.chat,socket:e.socket,game:e.game,round:e.round}},{sendMessageRoom:Pt,push:u.push,replace:u.replace,clearState:Xt,clearSubscriptions:$t,showModal:Zt,leaveRoom:Yt,startGame:zt,sketchDraw:function(e){return function(t,n,r){r.api,r.sockets,t({type:"SKETCHPAD_DRAW",payload:e}),t(qt(n().game.drawing.items))}},sketchUndo:function(e){return function(e,t,n){n.api,n.sockets,e({type:"SKETCHPAD_UNDO"}),e(qt(t().game.drawing.items))}},sketchClear:function(e){return function(e,t,n){n.api,n.sockets,e({type:"SKETCHPAD_CLEAR"}),e(qt(t().game.drawing.items))}},subscribeToGameGlobalEvents:function(){return function(e,t,n){n.api,n.sockets,Bt.forEach(function(t){return e(_t("game",t))})}},subscribeToRoundGlobalEvents:function(){return function(e,t,n){n.api,n.sockets,Vt.forEach(function(t){return e(_t("game",t))})}},requestWordsToChoose:function(){return function(e,t,n){n.api,n.sockets;var r=t().player,o=r.id,a=r.username,c=r.password;e(jt("game","REQUEST_WORDS",{player:{id:o,username:a,password:c},room:{uuid:t().room.uuid}}))}}})(fo),yo=n("o0o1"),ho=n.n(yo),bo=n("cr+I"),go=n.n(bo),vo=function(e){var t=e.className,n=e.children;return l.a.createElement("div",{className:"error-list-item ".concat(t)},l.a.createElement("i",{className:"fa fa-exclamation-circle","aria-hidden":"true"}),"   ",n)},Eo=function(e){var t=e.errors;Array.isArray(t)||(t=[t]);var n=new rn(t);return l.a.createElement("div",{className:"error-list-container"},n.getGeneralErrors().map(function(e){return l.a.createElement(vo,{key:e.message,className:"text-center mb-3"},e.message)}),n.getFormErrors().map(function(e){return l.a.createElement(vo,{key:e.field,className:"text-center mb-3"},e.field," ",e.message)}))};function wo(){return(wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Oo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var _o=function(e){var t=e.onCompleteDrawing,n=e.onUndo,r=e.onClear,o=e.sketchpadRef,a=e.valid,c=e.errors,i=Oo(e,["onCompleteDrawing","onUndo","onClear","sketchpadRef","valid","errors"]);return l.a.createElement("div",{className:"game-start-canvas-container"},l.a.createElement(Qr,wo({},i,{onCompleteItem:t,onUndo:n,onClear:r,canvasClassName:"game-start-canvas rounded",ref:o}),l.a.createElement("small",{className:"help-text d-block text-center ".concat(!c.avatar&&a?"":"text-danger")},!c.avatar&&a?null:l.a.createElement("i",{className:"fa fa-exclamation-circle mr-2","aria-hidden":"true"}),c.avatar&&a?c.avatar:"Draw your avatar")))},So=function(e){var t=e.username,n=e.focused,r=e.valid,o=e.pristine,a=e.handleChangeUsername,c=e.handleSubmit,i=e.handleFocusUsername,s=e.errors,u=e.hasRoomUUID,m=e.buttonStatus;return l.a.createElement("div",{className:"game-start-username-form-container"},l.a.createElement("form",{onSubmit:c},l.a.createElement("div",{className:"form-group-wrapper input-material-wrapper"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:n||t?"input-focused":"",htmlFor:"game_start_username"},"Username"),l.a.createElement("input",{onFocus:i,onBlur:i,onChange:a,type:"text",id:"game_start_username",name:"game_start_username",className:"form-control",value:t})),l.a.createElement("div",{className:"invalid-feedback text-left ".concat(r||o?"":"d-block")},l.a.createElement("i",{className:"fa fa-exclamation-circle","aria-hidden":"true"}),"   Username must be min 3 characters!"),l.a.createElement("div",{className:"invalid-feedback text-left ".concat(s.exists("username")&&r?"d-block":"")},l.a.createElement("i",{className:"fa fa-exclamation-circle","aria-hidden":"true"}),"  ",s.getMessage("username"))),l.a.createElement("div",{className:"game-start-buttons"},l.a.createElement(Ve.a,{to:"/",className:"mybtn2"},l.a.createElement("i",{className:"fa fa-arrow-left mr-2","aria-hidden":"true"}),"Go back"),u?l.a.createElement(hn,{onClick:c,type:"submit",name:"join_room",value:"join_room",icon:"fa-rocket",className:"mybtn2",disabled:m},"Join room"):l.a.createElement(l.a.Fragment,null,l.a.createElement(hn,{onClick:c,type:"submit",className:"mybtn2",name:"create_room",value:"create_room",icon:"fa-users",disabled:m},"Create room")))))},jo=function(e){return l.a.createElement("div",{className:"game-start-rules-container"},l.a.createElement("div",null,l.a.createElement("h2",{className:"game-start-rules-heading"},"Drawthing Info"),l.a.createElement("p",{className:"game-start-rules-text special-text"},"This is a very addictive multiplayer game which is suitable for everyone who loves art. No matter who you are, whether you are good or bad at drawing, you can still enjoy the game and have the fun time."),l.a.createElement("ul",{className:"game-start-rules-list"},l.a.createElement("li",null,l.a.createElement("h4",null," Draw your avatar"),l.a.createElement("p",{className:"special-text"},"Your first step is to draw your avatar on canvas, personalize your avatar however you wish. Next to avatar canvas, you have field for your username. Just type in your username there, and you are good to go!")),l.a.createElement("li",null,l.a.createElement("h4",null," Create / Join room"),l.a.createElement("p",{className:"special-text"},"Choose whether you want to create private room, and invite your friends or you want to play in a public room. Note that if you choose to create private room, you will automatically become room admin, so you can control which players may play and which don't.")),l.a.createElement("li",null,l.a.createElement("h4",null," Draw / Guess"),l.a.createElement("p",{className:"special-text"},"Finally, the game starts! After the countdown is over, one random player needs to choose 1 out of 3 words. Game round begins, your concentration to the maximum. You need to guess what others draw or to draw chosen word. For better score you need to do that as fast as possible, or you will loose!"),l.a.createElement("p",{className:"special-text"},"Notices:"),l.a.createElement("ol",{className:"mb-3 special-text"},l.a.createElement("li",null,"In every game you play number of rounds equal to number of players"),l.a.createElement("li",null,"Each round lasts for 60 secs or 1 minute"),l.a.createElement("li",null,"As soon as you guess word you get more points"))),l.a.createElement("li",null,l.a.createElement("h4",null,"Bugs, bugs and bugs... if you see one "),l.a.createElement("p",{className:"special-text"},"You can send me a message through out contact form on ",l.a.createElement(Ve.a,{to:"/contact"},"this "),"page, or you can contact me directly via",l.a.createElement("span",{dangerouslySetInnerHTML:{__html:"&nbsp;&#97;&#108;&#101;&#107;&#115;&#97;.j.&#49;&#57;96&#64;&#103;m&#97;&#105;l&#46;&#99;&#111;&#109;"}}))))))};function No(e){return(No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Po(){return(Po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Co(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ro(e,t,n[t])})}return e}function Ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function To(e,t,n,r,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,o)}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Do(e,t){return!t||"object"!==No(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xo(e){return(xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Io(e,t){return(Io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mo=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Do(this,xo(t).call(this,e))).handleSubmit=function(){var e,t=(e=ho.a.mark(function e(t){var r,o,a,c,i,l,s;return ho.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.state.usernameForm,o=r.username,a=r.valid,c=n.state.avatarForm.valid,i=t.currentTarget.value,t.preventDefault(),a){e.next=8;break}return e.abrupt("return",n.setState(function(e){return{usernameForm:ko({},e.usernameForm,{pristine:!1})}}));case 8:if(c){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,n.createAvatarImage();case 12:return l=e.sent,s={username:o,avatar:l},e.abrupt("return",n.props.createPlayer(s).then(function(e){switch(i){case"create_room":n.props.createRoom();break;case"random_room":break;case"join_room":n.props.joinRoom({room:{uuid:n.props.match.params.roomUUID}})}}).catch(function(e){var t=e.response.data.errors;return n.setState({errors:t})}));case 15:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function c(e){To(a,r,o,c,i,"next",e)}function i(e){To(a,r,o,c,i,"throw",e)}c(void 0)})});return function(e){return t.apply(this,arguments)}}(),n.createAvatarImage=function(){return new Promise(function(e,t){n.sketchpadRef.current.canvas.toBlob(function(t){e(t)})})},n.onCompleteDrawing=function(e){n.setState(function(t){var n=t.avatarForm,r=t.errors;return{avatarForm:ko({},n,{items:[].concat(Co(n.items),[e]),valid:!0}),errors:rn.init(r).remove("avatar")}})},n.onUndo=function(e){n.setState(function(e){var t=e.avatarForm,n=e.errors,r=Co(t.items).slice(0,-1);return{avatarForm:ko({},t,{items:r,valid:r.length>0}),errors:rn.init(n).remove("avatar")}})},n.onClear=function(e){n.setState(function(e){var t=e.avatarForm,n=e.errors;return{avatarForm:ko({},t,{items:[],valid:!1}),errors:rn.init(n).remove("avatar")}})},n.handleChangeUsername=function(e){var t=e.target.value;n.setState(function(e){var n=e.usernameForm,r=e.errors;return{usernameForm:ko({},n,{username:t,valid:t.length>=3}),errors:rn.init(r).remove("username")}})},n.handleFocusUsername=function(e){var t=e.type;n.setState(function(e){var n=e.usernameForm;return{usernameForm:ko({},n,{focused:"focus"===t,pristine:"blur"!==t&&n.pristine})}})},n.sketchpadRef=l.a.createRef(),n.roomUUID=n.props.match.params.roomUUID,n.hasRoomUUID=void 0!==n.roomUUID&&n.roomUUID,n.queryString=go.a.parse(e.location.search),n.state={avatarForm:{tool:"pencil",size:5,color:"#151515",fillColor:"#fdffff",items:[],animate:!1,eraser:!1,gtDefaultPosition:{x:-24,y:-155},gtShow:!1,valid:!1},usernameForm:{username:"",focused:!1,valid:!1,pristine:!0},errors:[]},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Io(e,t)}(t,i["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.props.socket.fd||this.props.socket.connected||this.props.ws_make_connection("game"),this.props.clearState(),this.props.clearSubscriptions()}},{key:"componentDidUpdate",value:function(e){if(e.room.id!=this.props.room.id){var t=new zn(this.props.room);t.isReady()&&(t.isJoined()?this.props.replace("/room"):this.props.push("/room"))}}},{key:"render",value:function(){var e=this.state,t=e.avatarForm,n=e.usernameForm,r=e.errors,o=this.props,a=o.player,c=o.room;return l.a.createElement(it,{title:"Play game - Drawthing",className:"container-fluid page-start-game"},l.a.createElement("div",{className:"game-start-container container"},l.a.createElement("div",{className:"game-start-card rounded shadow"},l.a.createElement("h1",{className:"game-start-heading"},"Start new game"),l.a.createElement(_o,Po({},t,{sketchpadRef:this.sketchpadRef,onCompleteDrawing:this.onCompleteDrawing,onUndo:this.onUndo,onClear:this.onClear,errors:r})),l.a.createElement(So,Po({},n,{handleSubmit:this.handleSubmit,handleChangeUsername:this.handleChangeUsername,handleFocusUsername:this.handleFocusUsername,errors:rn.init(r),hasRoomUUID:this.hasRoomUUID,buttonStatus:c.creating||c.joining||a.creating})),l.a.createElement(Eo,{errors:c.errors})),l.a.createElement(jo,null)))}}])&&Ao(n.prototype,r),o&&Ao(n,o),t}(),Uo=Object(s.connect)(function(e){return{player:e.player,room:e.room,socket:e.socket}},{ws_make_connection:function(e){return function(t,n,r){r.api,r.sockets,t(Ot(e)),wt.forEach(function(n){return t(_t(e,n.eType,n.action))})}},createPlayer:function(e){return function(t,n,r){var o=r.api;r.sockets,t({type:"CREATING_PLAYER"});var a=kt.objToFormData(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Rt(e,t,n[t])})}return e}({},e,{fd:n().socket.fd}));return o.player.create(a).then(function(e){return t(Tt(e.data)),e},function(e){throw t(At()),e})}},createRoom:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){var r=n.api;n.sockets,e({type:"CREATING_ROOM"});var o=t().player,a=o.id,c=o.username,i=o.password,l=kt.objToFormData({id:a,username:c,password:i},"player");return r.room.create(l).then(function(t){return e(Mt(t.data)),t}).catch(function(t){console.log(t.response),console.log(t.response.data),e(Ut(t.response.data))})}},joinRoom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t,n,r){var o=r.api;r.sockets,t({type:"JOINING_ROOM"});var a=n().player,c={player:{id:a.id,username:a.username,password:a.password},room:{uuid:e.room.uuid}};return o.room.join(c).then(function(e){t(Ft(e.data));var n=e.data,r=n.player,o=n.room;return r&&t({type:"UPDATE_PLAYER",payload:{player:r}}),o.has_game_in_progress&&(t({type:"STARTING_GAME",payload:{game:o.game}}),t(Object(u.replace)("/game"))),e}).catch(function(e){console.log(e.response),console.log(e.response.data),t(Gt(e.response.data))})}},push:u.push,replace:u.replace,clearState:Xt,clearSubscriptions:$t})(Mo),Fo=l.a.forwardRef(function(e,t){var n=e.room,r=e.chat,o=e.handleChatSend;return l.a.createElement("div",{className:"game-board-container-right"},l.a.createElement("div",{className:"game-board-chat rounded"},l.a.createElement("h2",{className:"game-created-title"},"Room Chat"),l.a.createElement("div",{className:"game-board-chat-body",ref:t},r.messages.map(function(e){return l.a.createElement(Zr,{key:e.id,chat:r,message:e,username:Object(ye.get)(n.getPlayer(e.player_id),"username","")})})),l.a.createElement("div",{className:"game-board-chat-footer rounded-bottom"},l.a.createElement("form",{onSubmit:o},l.a.createElement("input",{type:"text",name:"game-board-chat-input",className:"form-control",id:"game-board-chat-input",placeholder:"Type word...",autoComplete:"off"})),l.a.createElement("div",{className:"game-board-chat-emojis"},l.a.createElement("div",{className:"dropdown dropup"},l.a.createElement("a",{className:"btn btn-secondary dropdown-toggle",href:"javascript:void(0)",role:"button",id:"game-board-chat-emojis-dropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("i",{className:"fa fa-smile-o","aria-hidden":"true"})),l.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},l.a.createElement("ul",null,r.emojis.map(function(e){return l.a.createElement("li",{key:Object(ce.v4)(),onClick:function(t){return o(t,e.text)}},l.a.createElement("i",{className:"fa ".concat(e.class),"aria-hidden":"true"}))}))))))))}),Go=l.a.forwardRef(function(e,t){var n=e.player,r=e.room,o=e.handleCopyToClipboard,a=e.handleKick;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"game-created-join-link"},l.a.createElement("div",{className:"game-created-join-link-input"},l.a.createElement("input",{className:"form-control",type:"text",value:v.url.host+"/play/"+r.uuid,ref:t,readOnly:!0}),l.a.createElement("small",{className:"helper-text"},"Share this link to your friends to join you!")),l.a.createElement("button",{onClick:o,type:"button",className:"mybtn2",title:"Copy link"},l.a.createElement("i",{className:"fa fa-files-o","aria-hidden":"true"}))),l.a.createElement("ul",{className:"game-created-user-list"},r.getActivePlayers().map(function(e){return l.a.createElement("li",{key:e.id,className:"game-created-user-list-item"},l.a.createElement("span",{className:"game-created-user-avatar shadow mx-3"},l.a.createElement("img",{src:e.avatar,alt:e.username,className:"rounded"}),r.isPlayerAdmin(e)&&l.a.createElement("i",{className:"fa fa-star game-creater-user-leader","aria-hidden":"true",title:"Room leader"})),l.a.createElement("span",{className:"game-created-user-username mx-3"},e.username," ",n.id==e.id?l.a.createElement("small",null," (you)"):null),r.isPlayerAdmin(n)&&!r.isPlayerAdmin(e)&&l.a.createElement("span",{onClick:function(t){return a(e.id)},className:"game-created-user-kick ml-auto"},l.a.createElement("button",{className:"mybtn2",title:"Kick"},l.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))))})))});function Lo(e){return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ho(e,t){return!t||"object"!==Lo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yo(e){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ko(e,t){return(Ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bo=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return Ho(r,(n=r=Ho(this,(e=Yo(t)).call.apply(e,[this].concat(a))),r.state={},r.handleRoomFormInput=function(e){var t=r.props,n=t.player;if(t.room.isPlayerAdmin(n)){var o=e.target,a=o.value,c=o.name;r.props.emitRoomFormUpdate(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},c,a))}},n))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ko(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.player,n=e.room,r=n.isPlayerAdmin(t);return l.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},l.a.createElement("div",{className:"form-group-wrapper  col-md-12"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:" input-filled",htmlFor:"number_of_games"},"Number of games"),l.a.createElement("select",{name:"number_of_games",id:"number_of_games",className:"form-control",value:n.number_of_games,onChange:this.handleRoomFormInput,disabled:!r},l.a.createElement("option",{value:"1"},"1"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"3"},"3"),l.a.createElement("option",{value:"4"},"4"),l.a.createElement("option",{value:"5"},"5")))),l.a.createElement("div",{className:"form-group-wrapper  col-md-12"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:" input-filled",htmlFor:"round_length"},"Round length"),l.a.createElement("input",{type:"range",name:"round_length",value:n.round_length,id:"round_length",placeholder:"",className:"custom-range",min:"20",max:"70",step:"5",onChange:this.handleRoomFormInput,disabled:!r}))),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},"Games: ",n.number_of_games),l.a.createElement("div",{className:"col-md-6 text-right"},"Round length: ",n.round_length," sec"))))}}])&&Wo(n.prototype,r),o&&Wo(n,o),t}(),qo=Object(s.connect)(null,{emitRoomFormUpdate:function(e){return function(t,n,r){r.api,r.sockets;var o=n().player,a=o.id,c=o.username,i=o.password,l=n().room,s={player:{id:a,username:c,password:i},room:Dt({uuid:l.uuid,number_of_games:l.number_of_games,round_length:l.round_length},e)};t({type:"ROOM_FORM_UPDATED",payload:{room:s.room}}),Kt(s,t)}}})(Bo);function zo(e){return(zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qo(e,t){return!t||"object"!==zo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vo(e){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xo(e,t){return(Xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $o=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Qo(this,Vo(t).call(this,e))).handleChatSend=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.preventDefault();var r="";if("submit"==e.type){if((r=e.target.elements["game-board-chat-input"].value)&&r.length<=0)return;e.target.reset()}else"click"==e.type&&t&&(r=t);n.props.sendMessageRoom({text:r})},n.scrollToBottom=function(){var e=n.chatBodyRef.current;void 0!==e&&void 0!==e.scrollTop&&void 0!==e.scrollHeight&&(e.scrollTop=e.scrollHeight)},n.handleCopyToClipboard=function(e){n.joinLinkInputRef.current.select(),document.execCommand("copy"),e.target.focus()},n.handleKick=function(e){n.props.showModal({modalType:to,modalProps:{playerId:e}})},n.handleStartGame=function(e){n.props.startGame()},n.chatBodyRef=l.a.createRef(),n.joinLinkInputRef=l.a.createRef(),n.subscribed=!1,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xo(e,t)}(t,i["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.room,n=e.socket,r=new zn(t);try{if(!n.connected)throw new Error("Socket not connected");if(!r.isReady())throw new Error("Room is not ready");this.subscribed||(this.props.subscribeToChatGlobalEvents(),this.props.subscribeToRoomGlobalEvents(),this.subscribed=!0)}catch(e){console.log(e),this.props.replace("/play")}}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.player,o=n.room,a=n.chat,c=n.game,i=n.countdown,l=new zn(o),s=new lr(c);if(l.isPlayerKicked(r))return this.props.clearState(),this.props.clearSubscriptions(),this.props.showModal({modalType:"INFO_MODAL",modalProps:{body:"You were kicked from the room by admin"}}),this.props.replace("/play");s.starting()&&!i.inProgress&&this.props.showCountdown({countdownFrom:3,countdownEndText:"START"}).then(function(){t.props.clearChatMessages(),t.props.replace("/game")}),a.messages.length!=e.chat.messages.length&&a.messages.length>0&&this.scrollToBottom()}},{key:"componentWillUnmount",value:function(){var e=this.props.game;new lr(e).notStarted()&&(this.props.leaveRoom(),this.props.clearState(),this.props.clearSubscriptions()),this.props.hideCountdown()}},{key:"render",value:function(){var e=this.props,t=e.player,n=e.room,r=e.chat,o=e.game,a=new rr(t),c=new zn(n),i=new $n(r),s=new lr(o),u=o.starting_game_request||c.getActivePlayerCount()<=1||s.starting();return c.isCreated()||c.isJoined()?l.a.createElement(it,{title:"Play game - Drawthing",className:"container-fluid page-start-game"},l.a.createElement("div",{className:"game-start-container container"},l.a.createElement("div",{className:"game-start-card rounded shadow"},l.a.createElement("div",{className:"game-created-container"},l.a.createElement("h1",{className:"game-created-title"},c.isCreated()&&"Successfully created room",c.isJoined()&&"Successfully joined room"),l.a.createElement(Go,{player:a,room:c,handleCopyToClipboard:this.handleCopyToClipboard,handleKick:this.handleKick,ref:this.joinLinkInputRef}),l.a.createElement(qo,{player:a,room:c}),l.a.createElement("div",{className:"game-created-chat-container"},l.a.createElement(Fo,{room:c,chat:i,handleChatSend:this.handleChatSend,ref:this.chatBodyRef})),l.a.createElement(Eo,{errors:s.starting_game_request_errors}),l.a.createElement("div",{className:"text-center mt-3 d-flex justify-content-around"},l.a.createElement(Ve.a,{to:"/play",className:"mybtn2 my-auto"},l.a.createElement("i",{className:"fa fa-arrow-left mr-2","aria-hidden":"true"}),"Leave"),c.isPlayerAdmin(t)&&l.a.createElement(hn,{onClick:this.handleStartGame,type:"button",icon:"fa-rocket",className:"mybtn2 my-auto",disabled:u},c.getActivePlayerCount()<=1?"Waiting...":"Start game")))),l.a.createElement(jo,null))):null}}])&&Jo(n.prototype,r),o&&Jo(n,o),t}(),Zo=Object(s.connect)(function(e){return{player:e.player,room:e.room,chat:e.chat,socket:e.socket,game:e.game,countdown:e.countdown}},{sendMessageRoom:Pt,push:u.push,replace:u.replace,subscribeToChatGlobalEvents:function(){return function(e,t,n){n.api,n.sockets,Nt.forEach(function(t){return e(_t("game",t))})}},kickPlayer:Lt,subscribeToRoomGlobalEvents:function(){return function(e,t,n){n.api,n.sockets,It.forEach(function(t){return e(_t("game",t))})}},clearState:Xt,clearSubscriptions:$t,showModal:Zt,leaveRoom:Yt,startGame:zt,clearChatMessages:function(){return{type:"CLEAR_CHAT_MESSAGES"}},showCountdown:function(e){return function(t,n,r){return r.api,r.sockets,t({type:"SHOW_COUNTDOWN",payload:e}),new Promise(function(t,n){setTimeout(function(){t()},1e3*(e.countdownFrom+1))})}},hideCountdown:function(){return{type:"HIDE_COUNTDOWN"}}})($o);function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function na(e,t){return!t||"object"!==ea(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ra(e){return(ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oa(e,t){return(oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var aa=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return na(r,(n=r=na(this,(e=ra(t)).call.apply(e,[this].concat(a))),r.state={},n))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oa(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){return l.a.createElement(it,{title:"404 Not found - Drawthing",className:"page-404"},l.a.createElement("div",{className:"page-status-text-wrapper text-center rounded shadow"},l.a.createElement("h1",{className:"page-status-heading"},"404 - Page not found"),l.a.createElement("p",{className:"page-status-text"},"The page you were looking for is not here. ",l.a.createElement("br",null),"Perhaps you want to ",l.a.createElement(Ve.a,{to:"/play"},"play new game"),". ",l.a.createElement("br",null),"Maybe you tried to find more ",l.a.createElement(Ve.a,{to:"/about"},"about")," this project. ",l.a.createElement("br",null),"You wanted to ",l.a.createElement(Ve.a,{to:"/contact"},"contact me")," ?"),l.a.createElement(Ve.a,{to:"/",className:"mybtn2 page-status-link"},l.a.createElement("i",{className:"fa fa-home mr-2","aria-hidden":"true"}),"Go to homepage")))}}])&&ta(n.prototype,r),o&&ta(n,o),t}(),ca=[{id:Object(ce.v4)(),path:"/",link:"/",component:pt,exact:!0,mainNav:{show:!0,text:"Home"}},{id:Object(ce.v4)(),path:"/about",link:"/about",component:Et,exact:!0,mainNav:{show:!0,text:"About"}},{id:Object(ce.v4)(),path:"/contact",link:"/contact",component:Wn,exact:!0,mainNav:{show:!0,text:"Contact"}},{id:Object(ce.v4)(),path:"/game",link:"/game",component:po,exact:!0,mainNav:{show:!1,text:""}},{id:Object(ce.v4)(),path:"/play/:roomUUID?",link:"/play",component:Uo,exact:!0,mainNav:{show:!0,text:"Play now!"}},{id:Object(ce.v4)(),path:"/room",link:"/room",component:Zo,exact:!0,mainNav:{show:!1,text:""}}],ia=function(e){return l.a.createElement($e.a,{location:e.location},ca.map(function(e,t){return l.a.createElement(Ze.a,{key:t,exact:!0,path:e.path,component:e.component})}),l.a.createElement(Ze.a,{component:aa}))};function la(e){return(la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ua(e,t){return!t||"object"!==la(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ma(e){return(ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pa=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return ua(r,(n=r=ua(this,(e=ma(t)).call.apply(e,[this].concat(a))),r.state={pageYOffset:0,scrolled:!1},r.onScroll=function(e){r.setState(function(e){return{scrolled:e.pageYOffset<window.pageYOffset,pageYOffset:window.pageYOffset}})},n))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(t,i["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",Object(ye.debounce)(this.onScroll,90))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(){var e=this.props.location;return["/game","/play","/room"].includes(e.pathname)?null:l.a.createElement("nav",{className:"main-nav navbar navbar-expand-lg fixed-top shadow ".concat(this.state.scrolled?"main-nav-scrolled":"")},l.a.createElement(Ve.a,{to:"/",className:"navbar-brand text-uppercase my-3"},"DrawThing"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mainnavbarToggler","aria-controls":"mainnavbarToggler","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon d-flex justify-content-center align-items-center"},l.a.createElement("i",{className:"fa fa-bars","aria-hidden":"true"}))),l.a.createElement("div",{className:"navbar-collapse collapse",id:"mainnavbarToggler"},l.a.createElement("ul",{className:"navbar-nav ml-auto"},ca.filter(function(e){return e.mainNav.show}).map(function(e){return l.a.createElement("li",{key:e.id,className:"nav-item active mx-2"},l.a.createElement(Xe.a,{activeClassName:"nav-link-active",exact:!0,to:e.link,className:"nav-link"},e.mainNav.text))}))))}}])&&sa(n.prototype,r),o&&sa(n,o),t}();function da(e){return(da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ha(e,t){return!t||"object"!==da(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ba(e){return(ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ga(e,t){return(ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var va=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return ha(r,(n=r=ha(this,(e=ba(t)).call.apply(e,[this].concat(a))),r.state={},n))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ga(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){return l.a.createElement("footer",{className:"container-fluid main-footer footer py-3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-6 text-left justify-content-center align-items-center d-flex"},"© 2019  ",l.a.createElement("a",{href:"https://aleksajovanovic.com",className:"basic-link-white text-decoration-none",title:"My portfolio"},"Aleksa Jovanovic"),"  179/15"),l.a.createElement("div",{className:"col-xs-6 col-sm-6  col-md-6 text-right justify-content-center align-items-center d-flex"},l.a.createElement("ul",{className:"main-footer-icons p-0"},l.a.createElement("li",{className:"mx-3"},l.a.createElement("a",{href:"#"},l.a.createElement("i",{className:"fa fa-book","aria-hidden":"true",title:"Project documentation"}))),l.a.createElement("li",{className:"mx-3"},l.a.createElement("a",{href:"https://github.com/Aleksa1996"},l.a.createElement("i",{className:"fa fa-github","aria-hidden":"true",title:"My github profile"})))))))}}])&&ya(n.prototype,r),o&&ya(n,o),t}(),Ea=n("1w3K"),wa=n("9rZX"),Oa=n.n(wa);Oa.a.setAppElement("#main-content-layout");var _a=function(e){var t=e.title,n=e.body,r=e.handleClose,o=e.children,a=e.shouldCloseOnOverlayClick,c=e.shouldHideCloseButton,i=e.footer;return l.a.createElement(Oa.a,{isOpen:!0,onRequestClose:r,contentLabel:"Example Modal",overlayClassName:"react-modal-backdrop",className:"react-modal modal-dialog",shouldCloseOnOverlayClick:void 0===a||a},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title"},t),c?null:l.a.createElement("button",{onClick:r,type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"×"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("p",null,n),o),l.a.createElement("div",{className:"modal-footer"},i||null))))},Sa=Object(s.connect)(function(e,t){return{player:e.room.players.find(function(e){return e.id==t.playerId})}},{hideModal:en,kickPlayer:Lt})(function(e){var t=e.player,n=e.hideModal,r=e.kickPlayer,o=l.a.createElement(l.a.Fragment,null,l.a.createElement(hn,{type:"button",className:"mybtn2",onClick:n},"No"),l.a.createElement(hn,{type:"button",className:"mybtn2",onClick:function(){r(t.id).then(function(){n()})}},"Yes"));return t?l.a.createElement(_a,{title:"Kicking player",body:"Are you sure you want to kick ".concat(t.username," from room ?"),data:t,handleClose:n,footer:o}):null}),ja=Object(s.connect)(null,{hideModal:en})(function(e){var t=e.hideModal,n=e.body,r=l.a.createElement(hn,{type:"button",className:"mybtn2",onClick:t},"Ok");return n?l.a.createElement(_a,{title:"Info",body:n,footer:r,handleClose:t}):null});function Na(e){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ca(e,t){return!t||"object"!==Na(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ka(e){return(ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ra(e,t){return(Ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ta=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ca(this,ka(t).call(this,e))).countdown=function(){if(0==n.state.countdown)return clearInterval(n.countdownId),n.props.chooseWord(Object(ye.first)(n.props.words_to_choose)),n.props.hideModal();n.setState(function(e){return{countdown:e.countdown-1}})},n.chooseWord=function(e){clearInterval(n.countdownId),n.props.chooseWord(e),n.props.hideModal()},n.countdownId=null,n.state={countdown:8},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ra(e,t)}(t,i["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.countdownId=setInterval(this.countdown,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.countdownId)}},{key:"render",value:function(){var e=this,t=this.props,n=t.words_to_choose,r=t.hideModal,o=l.a.createElement("div",{className:"text-center w-100"},l.a.createElement("small",{className:"d-block bounceAnimation"},"Automatically choosing word after ",this.state.countdown," sec."));return l.a.createElement(_a,{title:"WORD TO DRAW",body:"Choose one word out of three:",handleClose:r,shouldCloseOnOverlayClick:!1,shouldHideCloseButton:!0,footer:o},l.a.createElement("div",{className:"choose-word-button-group d-flex justify-content-around align-items-center"},n.map(function(t){return l.a.createElement(hn,{key:t.id,onClick:function(){return e.chooseWord(t)},type:"button",className:"mybtn2 text-transform-uppercase",style:{fontSize:"12px",padding:"15px 25px"}},t.word)})))}}])&&Pa(n.prototype,r),o&&Pa(n,o),t}(),Aa=Object(s.connect)(function(e){return{words_to_choose:e.round.words_to_choose}},{hideModal:en,chooseWord:function(e){return function(t,n,r){r.api,r.sockets;var o=n().player,a=o.id,c=o.username,i=o.password;t(jt("game","CHOOSED_WORD",{player:{id:a,username:c,password:i},word:e,room:{uuid:n().room.uuid}}))}}})(Ta);function Da(e){return(Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ma(e,t){return!t||"object"!==Da(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ua(e){return(Ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fa(e,t){return(Fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ga,La=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ma(this,Ua(t).call(this,e))).countdown=function(){if(0==n.state.countdown)return clearInterval(n.countdownId),n.props.hideModal(),n.props.game.isThereNextGame?n.props.startNextGame():n.props.replace("/play");n.setState(function(e){return{countdown:e.countdown-1}})},n.countdownId=null,n.state={countdown:5},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fa(e,t)}(t,i["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.countdownId=setInterval(this.countdown,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.countdownId)}},{key:"render",value:function(){var e=this.props,t=e.player,n=e.room,r=e.game,o=e.hideModal,a=new rr(t),c=new zn(n),i=new lr(r),s=(i.isThereNextGame?c.getActivePlayers():c.players).map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xa(e,t,n[t])})}return e}({},e,{score:i.isThereNextGame?i.getScoreForPlayer(e):i.getFinalScoreForPlayer(e)})}),u=l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fa fa-trophy","aria-hidden":"true"})," Scoreboard"),m=l.a.createElement("div",{className:"text-center w-100"},l.a.createElement("small",{className:"d-block bounceAnimation"},i.isThereNextGame?"Next game starting in ":"Finishing game in ",this.state.countdown," sec."));return l.a.createElement(_a,{title:u,body:"",footer:m,handleClose:o,shouldCloseOnOverlayClick:!1,shouldHideCloseButton:!0},l.a.createElement("div",{className:"game-board-container-left"},l.a.createElement("div",{className:"game-board-score"},l.a.createElement("ul",{className:"game-board-score-list"},i.sortPlayersByScore(s).map(function(e,t){return l.a.createElement("li",{key:e.id,className:"game-board-score-row rounded"},l.a.createElement("span",{className:"game-board-score-avatar-container"},l.a.createElement("span",{className:"game-board-score-avatar"},l.a.createElement("img",{src:e.avatar,className:"shadow"}),l.a.createElement("span",{className:"game-board-score-position"},t+1))),l.a.createElement("span",{className:"game-board-score-username"},e.username," ",a.id==e.id?l.a.createElement("small",null," (you)"):null,l.a.createElement("small",{className:"game-board-score-points"},"(",e.score,") points")))})))))}}])&&Ia(n.prototype,r),o&&Ia(n,o),t}(),Wa=Object(s.connect)(function(e){return{player:e.player,room:e.room,game:e.game}},{hideModal:en,startNextGame:function(e){return function(e,t,n){n.api,n.sockets;var r=t().game;e({type:"STARTING_GAME",payload:{game:r.nextGame,round:r.nextRound}})}},replace:u.replace})(La);function Ha(e){return(Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ka(e,t){return!t||"object"!==Ha(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ba(e){return(Ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qa(e,t){return(qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ja=(za(Ga={},to,Sa),za(Ga,"INFO_MODAL",ja),za(Ga,no,Aa),za(Ga,"SHOW_SCOREBOARD_MODAL",Wa),Ga),Qa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ka(this,Ba(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qa(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){if(!this.props.modalType)return null;var e=Ja[this.props.modalType];return l.a.createElement(e,this.props.modalProps)}}])&&Ya(n.prototype,r),o&&Ya(n,o),t}(),Va=Object(s.connect)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){za(e,t,n[t])})}return e}({},e.modal)},{})(Qa);function Xa(e){return(Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Za(e,t){return!t||"object"!==Xa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ec(e){return(ec=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tc(e,t){return(tc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Za(this,ec(t).call(this,e))).countdownInit=function(){return setInterval(function(){n.state.countdownNumber>0?n.setState(function(e){return{countdownNumber:e.countdownNumber-1}}):(clearInterval(n.countdownInterval),n.countdownInterval=null)},1e3)},n.countdownInterval=null,n.state={countdownNumber:0},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tc(e,t)}(t,i["Component"]),n=t,(r=[{key:"componentDidUpdate",value:function(){this.props.countdown.show&&null==this.countdownInterval&&(clearInterval(this.countdownInterval),this.setState({countdownNumber:this.props.countdown.countdownFrom}),this.countdownInterval=this.countdownInit())}},{key:"componentWillUnmount",value:function(){this.countdownInterval&&clearInterval(this.countdownInterval)}},{key:"render",value:function(){var e=this.props.countdown,t=this.state.countdownNumber;return e.show||e.inProgress?l.a.createElement("div",{className:"countdown-container"},l.a.createElement(Ea.TransitionGroup,null,l.a.createElement(Ea.CSSTransition,{key:t,timeout:{enter:450,exit:170},classNames:"countdown"},l.a.createElement(l.a.Fragment,null,e.show&&t<=e.countdownFrom&&l.a.createElement("div",{className:"countdown-number"},0==t?e.countdownEndText:t))))):null}}])&&$a(n.prototype,r),o&&$a(n,o),t}(),rc=Object(s.connect)(function(e){return{countdown:e.countdown}},{})(nc);function oc(e){return(oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ac(){return(ac=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ic(e,t){return!t||"object"!==oc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lc(e){return(lc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sc(e,t){return(sc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var uc=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return ic(r,(n=r=ic(this,(e=lc(t)).call.apply(e,[this].concat(a))),r.state={},n))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sc(e,t)}(t,i["Component"]),n=t,(r=[{key:"componentDidUpdate",value:function(e,t,n){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){this.props.location.pathname.split("/")[1];return l.a.createElement("div",{id:"main-content-layout"},l.a.createElement(pa,ac({scrollTop:this.state.scrollTop},this.props)),l.a.createElement("div",{id:"main-container"},l.a.createElement(ia,this.props)),l.a.createElement(va,null),l.a.createElement(Va,null),l.a.createElement(rc,null))}}])&&cc(n.prototype,r),o&&cc(n,o),t}();function mc(e){return(mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pc(e,t){return!t||"object"!==mc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dc(e){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yc(e,t){return(yc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hc=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return pc(r,(n=r=pc(this,(e=dc(t)).call.apply(e,[this].concat(a))),r.state={},n))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yc(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){return l.a.createElement(uc,this.props)}}])&&fc(n.prototype,r),o&&fc(n,o),t}(),bc=Object(Qe.a)(hc);n("201c"),n("HijD");var gc=l.a.createElement(s.Provider,{store:Je},l.a.createElement(u.ConnectedRouter,{history:Ye},l.a.createElement(bc,null)));Or.a.hydrate(gc,document.getElementById("react-app"))}},[[0,1,2]]]);
//# sourceMappingURL=client.js.map